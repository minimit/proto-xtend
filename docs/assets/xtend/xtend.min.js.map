{"version":3,"sources":["xtend.js"],"names":["$","window","document","undefined","Xt","group","defaults","options","this","init","XtToggle","call","prototype","Object","create","constructor","fn","xtToggle","name","elements","targets","class","on","min","max","each","data","XtDrop","xtDrop","XtOverlay","xtOverlay","anim","backdrop","XtScroll","xtScroll","XtAjax","xtAjax","xt","uid","xtInitAll","deep","is","find","object","settings","$group","extend","arr","split","indexOf","defaultClass","attr","debug","scope","namespace","setup","events","$elements","filter","length","$targets","$outside","parent","wrap","clone","addClass","css","i","removeAttr","insertAfter","mode","$t","$tinner","not","url","found","history","state","loc","location","href","replace","pushstate","title","trigger","hasClass","removeClass","$currents","getCurrents","todo","eq","appendTo","eventsScroll","eventsDefault","$eventElement","$eventTarget","slice","off","e","toggle","preventDefault","remove","obj","target","ajax","resizeNamespace","width","scrollNamespace","scrollTop","scrollTopOld","top","offset","bottom","Infinity","isNaN","parseFloat","xtRequestAnimationFrame","$el","triggered","isSync","skipState","getIndexed","onAfter","setCurrents","pushElement","$sync","checkDisabled","$first","first","$target","$additional","onFixed","offAfter","force","str","add","g","$dataGroup","$anim","animationDelayClear","animationMultiple","onDone","onBackdrop","onCollapse","onMiddle","onCenter","has","offDone","offBackdrop","offCollapse","offFixed","callout","done","$single","xtCancelAnimationFrame","frame","animationDelay","apply","ns","t","timing","transition","animation","stringToMilliseconds","Math","timeout","setTimeout","clearTimeout","$container","$position","$backdrop","h","outerHeight","pt","pb","w","outerWidth","pl","pr","$g","index","getIndex","scrollbarWidth","get","child","children","innerWidth","height","ms","num","unit","match","type","success","textStatus","jqXHR","$data","html","$html","contents","text","error","errorThrown","console","pushState","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","Array","push","event","special","xtRemoved","o","handler","expr","parents","a","m","fixed","absolute","jQuery"],"mappings":";;;CAIC,SAAWA,EAAGC,EAAQC,EAAUC,GAE/B,YAMA,IAAIC,GAAK,SAASC,EAAOC,EAAUC,GACjCC,KAAKH,MAAQA,EACbG,KAAKC,KAAKH,EAAUC,IAGlBG,EAAW,SAASL,EAAOC,EAAUC,GACvCH,EAAGO,KAAKH,KAAMH,EAAOC,EAAUC,GAEjCG,GAASE,UAAYC,OAAOC,OAAOV,EAAGQ,WACtCF,EAASE,UAAUG,YAAcL,EACjCV,EAAEgB,GAAGC,SAAW,SAASV,GACvB,GAAID,IACFY,KAAQ,YACRC,SAAY,YACZC,QAAW,0CACXC,MAAS,SACTC,GAAM,QACNC,IAAO,EACPC,IAAO,EAET,OAAOhB,MAAKiB,KAAM,WACXzB,EAAE0B,KAAKlB,KAAMF,EAASY,OACzBlB,EAAE0B,KAAKlB,KAAMF,EAASY,KAAM,GAAIR,GAASF,KAAMF,EAAUC,MAK/D,IAAIoB,GAAS,SAAStB,EAAOC,EAAUC,GACrCH,EAAGO,KAAKH,KAAMH,EAAOC,EAAUC,GAEjCoB,GAAOf,UAAYC,OAAOC,OAAOV,EAAGQ,WACpCe,EAAOf,UAAUG,YAAcY,EAC/B3B,EAAEgB,GAAGY,OAAS,SAASrB,GACrB,GAAID,IACFY,KAAQ,UACRC,SAAY,YACZC,QAAW,QACXC,MAAS,SACTC,GAAM,QACNC,IAAO,EACPC,IAAO,EAET,OAAOhB,MAAKiB,KAAM,WACXzB,EAAE0B,KAAKlB,KAAMF,EAASY,OACzBlB,EAAE0B,KAAKlB,KAAMF,EAASY,KAAM,GAAIS,GAAOnB,KAAMF,EAAUC,MAK7D,IAAIsB,GAAY,SAASxB,EAAOC,EAAUC,GACxCH,EAAGO,KAAKH,KAAMH,EAAOC,EAAUC,GAEjCsB,GAAUjB,UAAYC,OAAOC,OAAOV,EAAGQ,WACvCiB,EAAUjB,UAAUG,YAAcc,EAClC7B,EAAEgB,GAAGc,UAAY,SAASvB,GACxB,GAAID,IACFY,KAAQ,aACRG,MAAS,SACTC,GAAM,QACNC,IAAO,EACPC,IAAO,EACPO,KAAQ,iBACRC,SAAY,iBAEd,OAAOxB,MAAKiB,KAAM,WACXzB,EAAE0B,KAAKlB,KAAMF,EAASY,OACzBlB,EAAE0B,KAAKlB,KAAMF,EAASY,KAAM,GAAIW,GAAUrB,KAAMF,EAAUC,MAKhE,IAAI0B,GAAW,SAAS5B,EAAOC,EAAUC,GACvCH,EAAGO,KAAKH,KAAMH,EAAOC,EAAUC,GAEjC0B,GAASrB,UAAYC,OAAOC,OAAOV,EAAGQ,WACtCqB,EAASrB,UAAUG,YAAckB,EACjCjC,EAAEgB,GAAGkB,SAAW,SAAS3B,GACvB,GAAID,IACFY,KAAQ,YACRG,MAAS,SACTC,GAAM,SACNC,IAAO,EACPC,IAAO,EAET,OAAOhB,MAAKiB,KAAM,WACXzB,EAAE0B,KAAKlB,KAAMF,EAASY,OACzBlB,EAAE0B,KAAKlB,KAAMF,EAASY,KAAM,GAAIe,GAASzB,KAAMF,EAAUC,MAK/D,IAAI4B,GAAS,SAAS9B,EAAOC,EAAUC,GACrCH,EAAGO,KAAKH,KAAMH,EAAOC,EAAUC,GAEjC4B,GAAOvB,UAAYC,OAAOC,OAAOV,EAAGQ,WACpCuB,EAAOvB,UAAUG,YAAcoB,EAC/BnC,EAAEgB,GAAGoB,OAAS,SAAS7B,GACrB,GAAID,IACFY,KAAQ,UACRG,MAAS,SACTC,GAAM,QAER,OAAOd,MAAKiB,KAAM,WACXzB,EAAE0B,KAAKlB,KAAMF,EAASY,OACzBlB,EAAE0B,KAAKlB,KAAMF,EAASY,KAAM,GAAIiB,GAAO3B,KAAMF,EAAUC,OAS7DP,EAAEgB,GAAGqB,IACHC,IAAO,GAGTtC,EAAEgB,GAAGuB,UAAY,SAASC,GACxB,MAAOhC,MAAKiB,KAAM,WACZzB,EAAEQ,MAAMiC,GAAG,qBACbzC,EAAEQ,MAAMS,WAENjB,EAAEQ,MAAMiC,GAAG,mBACbzC,EAAEQ,MAAMoB,SAEN5B,EAAEQ,MAAMiC,GAAG,sBACbzC,EAAEQ,MAAMsB,YAEN9B,EAAEQ,MAAMiC,GAAG,qBACbzC,EAAEQ,MAAM0B,WAENlC,EAAEQ,MAAMiC,GAAG,mBACbzC,EAAEQ,MAAM4B,SAENI,IACFxC,EAAEQ,MAAMkC,KAAK,oBAAoBzB,WACjCjB,EAAEQ,MAAMkC,KAAK,kBAAkBd,SAC/B5B,EAAEQ,MAAMkC,KAAK,qBAAqBZ,YAClC9B,EAAEQ,MAAMkC,KAAK,oBAAoBR,WACjClC,EAAEQ,MAAMkC,KAAK,kBAAkBN,aASrChC,EAAGQ,UAAUH,KAAO,SAASH,EAAUC,GACrC,GAAIoC,GAASnC,KACToC,EAAWpC,KAAKoC,YAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAEpBuC,GAAW5C,EAAE8C,OAAOF,EAAUtC,EAAUC,GAExCP,EAAE8C,OAAOF,EAAUC,EAAOnB,KAAKkB,EAAS1B,MAExC,IAAI6B,GAAMH,EAASvB,MAAM2B,MAAM,IAC3BD,GAAIE,QAAQ3C,EAASe,UAAW,IAClCuB,EAASvB,OAAS,IAAMf,EAASe,OAEnCsB,EAAOO,aAAe5C,EAASe,OAE3BwB,EAAOM,KAAK,UAAqC,KAAzBN,EAAOM,KAAK,YACtCP,EAASQ,OAAQ,GAGnBT,EAAOU,QACPV,EAAOW,YACPX,EAAOY,QACPZ,EAAOa,UAGTpD,EAAGQ,UAAU0C,UAAY,WACvB,GACIV,GAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAEhBuC,GAASxB,SAAWwB,EAASxB,QAAQ6B,QAAQ,QAAS,EACxDL,EAASN,IAAMM,EAASxB,QAChByB,EAAOM,KAAK,MACpBP,EAASN,IAAMO,EAAOM,KAAK,MAE3BP,EAASN,IAAM,SAAWtC,EAAEgB,GAAGqB,GAAGC,MAEpCM,EAASU,UAAYV,EAAS1B,KAAO,IAAM0B,EAASN,IAAM,IAAMM,EAASvB,MACzEwB,EAAOM,KAAK,oBAAqBP,EAASU,YAG5ClD,EAAGQ,UAAUyC,MAAQ,WACnB,GACIT,GAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAepB,IAbAuC,EAASa,UAAY,KACjBb,EAASzB,WACPyB,EAASzB,SAAS8B,QAAQ,QAAS,EACrCL,EAASa,UAAYzD,EAAE4C,EAASzB,UAAUuC,OAAO,wBAEjDd,EAASa,UAAYZ,EAAOH,KAAKE,EAASzB,UAAUuC,OAAO,yBAG1Dd,EAASa,WAAcb,EAASa,UAAUE,SAC7Cf,EAASa,UAAYZ,GAGvBD,EAASgB,SAAW,KACE,cAAlBhB,EAAS1B,KAAsB,CAEjC,GAAI2C,GAAWhB,EAAOiB,OAAO,4BACxBD,GAASF,SACZE,EAAWhB,EAAOkB,KAAK/D,EAAE,kDAG3B4C,EAASgB,SAAWC,EAASnB,KAAK,uBAC7BE,EAASgB,SAASD,SACrBf,EAASgB,SAAWf,EAAOmB,QAAQC,SAAS,sBAAsBC,IAAI,aAAc,UACpFlE,EAAEyB,KAAKmB,EAASgB,SAASlC,OAAQ,SAASyC,GACxCvB,EAASgB,SAASQ,WAAW,QAAUD,KAEzCvB,EAASgB,SAASS,YAAYxB,IAGV,aAAlBD,EAAS0B,KACXzB,EAAOqB,IAAI,WAAY,YACI,UAAlBtB,EAAS0B,MAClBzB,EAAOqB,IAAI,WAAY,SAErBrB,EAAOJ,GAAG,WAAaI,EAAOJ,GAAG,cACnCI,EAAOqB,IAAI,UAAW,IACtBtB,EAASgB,SAASM,IAAI,UAAW,UAEjCtB,EAASgB,SAASM,IAAI,UAAW,YAE9B,IAAGtB,EAASxB,QACjB,GAAIwB,EAASxB,QAAQ6B,QAAQ,QAAS,EACpCL,EAASgB,SAAW5D,EAAE4C,EAASxB,SAASsC,OAAO,4BAC1C,CACL,GAAIa,GAAK1B,EAAOH,KAAKE,EAASxB,SAC1BoD,EAAUD,EAAG7B,KAAKE,EAASxB,QAC/BwB,GAASgB,SAAWW,EAAGE,IAAID,GAASd,OAAO,0BAKjDtD,EAAGQ,UAAU2C,MAAQ,WACnB,GAAIZ,GAASnC,KACToC,EAAWpC,KAAKoC,QACRpC,MAAKH,MACJL,EAAEQ,KAAKH,MAEpB,IAAsB,YAAlBuC,EAAS1B,KAAoB,CAC/B,GAAIwD,GACAC,CACJ,IAAIC,QAAQC,OAASD,QAAQC,MAAMH,IAEjCA,EAAME,QAAQC,MAAMH,QACf,CAEL,GAAII,GAAM7E,EAAO8E,SAASC,KAAKhC,MAAM,KAAK,EAC1C0B,GAAMI,EAAIG,QAAQ,qBAAsB,IAE1CrC,EAASa,UAAUhC,KAAM,WACvB,GAAIzB,EAAEQ,MAAM2C,KAAK,UAAYuB,EAE3B,MADAC,GAAQ3E,EAAEQ,OACH,IAGPmE,IAEF/B,EAASgB,SAAST,KAAK,oBAAqBuB,GAC5C/B,EAAOuC,UAAUR,EAAKxE,EAASiF,OAE/BxC,EAAOrB,GAAGqD,GAEV/B,EAASgB,SAASwB,QAAQ,gBAAiBzC,SAExC,CAEL,GAAIC,EAASa,UAAW,CACtBb,EAASa,UAAUhC,KAAM,WACnBzB,EAAEQ,MAAM6E,SAAS1C,EAAOO,gBAC1BlD,EAAEQ,MAAM8E,YAAY1C,EAASvB,OAC7BsB,EAAOrB,GAAGtB,EAAEQ,SAIhB,IAAI+E,GAAY5C,EAAO6C,cACnBC,EAAO7C,EAASrB,IAAMgE,EAAU5B,MACpC,IAAI8B,EACF,IAAK,GAAItB,GAAI,EAAGA,EAAIsB,EAAMtB,IACxBxB,EAAOrB,GAAGsB,EAASa,UAAUiC,GAAGvB,IAIhB,eAAlBvB,EAAS1B,MACX0B,EAASgB,SAAS+B,SAAS,UAKjCvF,EAAGQ,UAAU4C,OAAS,WACpB,GAAIb,GAASnC,KACToC,EAAWpC,KAAKoC,QACRpC,MAAKH,MACJL,EAAEQ,KAAKH,MAEE,eAAlBuC,EAAS1B,KACXyB,EAAOiD,eAEPjD,EAAOkD,iBAIXzF,EAAGQ,UAAUiF,cAAgB,WAC3B,GAKIC,GALAnD,EAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,QAGhB0F,EAAenD,EAASa,UAAUuC,MAAM,EACtB,aAAlBpD,EAAS1B,MAAuC,eAAjB0B,EAASqD,MAC1CH,EAAgBC,EAChBA,EAAelD,GAEbkD,IAEEnD,EAAStB,IACXyE,EAAaE,IAAIrD,EAAStB,GAAK,OAAOA,GAAGsB,EAAStB,GAAK,MAAO,SAAS4E,GACrE,GAAI3B,GAAKuB,EAAgBA,EAAgB9F,EAAEQ,KAC3CmC,GAAOwD,OAAO5B,GACQ,YAAlB3B,EAAS1B,MACXgF,EAAEE,mBAIJxD,EAASqD,KACXF,EAAaE,IAAIrD,EAASqD,IAAM,OAAO3E,GAAGsB,EAASqD,IAAM,MAAO,SAASC,GACvE,GAAI3B,GAAKuB,EAAgBA,EAAgB9F,EAAEQ,KAC3CmC,GAAOwD,OAAO5B,KAII,YAAlB3B,EAAS1B,MACX0B,EAASgB,SAASlB,KAAK,2BAA2BuD,IAAI,iBAAiB3E,GAAG,gBAAiB,SAAS4E,GAClGvD,EAAOsD,IAAIF,KAIfA,EAAaE,IAAI,aAAa3E,GAAG,YAAa,SAAS4E,GAC/B,eAAlBtD,EAAS1B,OACX0B,EAASgB,SAASyC,SAClB1D,EAAOsD,IAAIjG,EAAEQ,OAAO,GAAO,GAAM,MAIrCuF,EAAaE,IAAI,SAAS3E,GAAG,QAAS,SAAS4E,EAAGI,GAC5CJ,EAAEK,SAAW/F,MACfmC,EAAOrB,GAAGtB,EAAEQ,OAAO,KAGvBuF,EAAaE,IAAI,UAAU3E,GAAG,SAAU,SAAS4E,EAAGI,GAC9CJ,EAAEK,SAAW/F,MACfmC,EAAOsD,IAAIjG,EAAEQ,OAAO,MAKJ,YAAlBoC,EAAS1B,MAEXlB,EAAEC,GAAQgG,IAAI,eAAiBrD,EAASU,WAAWhC,GAAG,eAAiBsB,EAASU,UAAW,SAAS4C,GAC9FtB,QAAQC,OAASD,QAAQC,MAAMH,KACjC/B,EAAO6D,KAAK5B,QAAQC,MAAMH,IAAKE,QAAQC,MAAMM,UAUrD/E,EAAGQ,UAAUgF,aAAe,WAC1B,GAAIjD,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,QAEhBwD,EAAWjB,EAASgB,SAASE,OAAO,6BACpC2C,EAAkB,aAAe7D,EAASU,SAC9CtD,GAAEC,GAAQgG,IAAIQ,GACdzG,EAAEC,GAAQqB,GAAGmF,EAAiB,SAASP,GACrCrC,EAASK,IAAI,QAASL,EAASC,SAAS4C,WAE1C1G,EAAEC,GAAQmF,QAAQqB,EAElB,IAAIE,GAAkB,aAAe/D,EAASU,SAC9CtD,GAAEC,GAAQgG,IAAIU,GACd3G,EAAEC,GAAQqB,GAAGqF,EAAiB,SAAST,GACrC,GAAIU,GAAY5G,EAAEQ,MAAMoG,WACxB,IAAIA,IAAchE,EAASiE,aAAc,CAEvC,GAAIC,GAAMjD,EAASkD,SAASD,IACxBE,EAASC,EAAAA,CACTrE,GAASkE,MAAQ3G,IAIjB2G,EAHGI,MAAMC,WAAWvE,EAASkE,MAGvB9G,EAAE4C,EAASkE,KAAKC,SAASD,IAFzBlE,EAASkE,KAKflE,EAASoE,SAAW7G,IACjB+G,MAAMC,WAAWvE,EAASoE,SAEpBhH,EAAE4C,EAASoE,QAAQrD,SAC5BqD,EAAShH,EAAE4C,EAASoE,QAAQD,SAASD,KAFrCE,EAASpE,EAASoE,QAKlBJ,GAAaE,GAAOF,EAAYI,EAC7BnE,EAAOwC,SAAS1C,EAAOO,gBAC1BjD,EAAOmH,wBAAyB,WAC9BzE,EAAOrB,GAAGuB,KAGZA,EAAOyC,YAAY,oCACf1C,EAASiE,aAAeD,GAC1B/D,EAAOyC,YAAY,iBACnBrF,EAAOmH,wBAAyB,WAC9BvE,EAAOoB,SAAS,wBAGlBpB,EAAOyC,YAAY,oBACnBrF,EAAOmH,wBAAyB,WAC9BvE,EAAOoB,SAAS,qBAKlBpB,EAAOwC,SAAS1C,EAAOO,gBACzBjD,EAAOmH,wBAAyB,WAC9BzE,EAAOsD,IAAIpD,KAGbA,EAAOyC,YAAY,kCACf1C,EAASiE,aAAeD,GAC1B/D,EAAOyC,YAAY,kBACnBrF,EAAOmH,wBAAyB,WAC9BvE,EAAOoB,SAAS,yBAGlBpB,EAAOyC,YAAY,qBACnBrF,EAAOmH,wBAAyB,WAC9BvE,EAAOoB,SAAS,sBAM1BrB,EAASiE,aAAeD,IAE1B5G,EAAEC,GAAQmF,QAAQuB,GAElB9D,EAAOvB,GAAG,YAAa,SAAS4E,GAC9BlG,EAAEC,GAAQgG,IAAIQ,GACdzG,EAAEC,GAAQgG,IAAIU,MAQlBvG,EAAGQ,UAAUuF,OAAS,SAASkB,EAAKC,EAAWC,EAAQC,GACrD,GAAI7E,GAASnC,IACEA,MAAKoC,SACRpC,KAAKH,MACJL,EAAEQ,KAAKH,MAEfgH,GAAIhC,SAAS1C,EAAOO,cAGvBP,EAAOsD,IAAIoB,EAAKC,EAAWC,EAAQC,GAFnC7E,EAAOrB,GAAG+F,EAAKC,EAAWC,EAAQC,IAMtCpH,EAAGQ,UAAUU,GAAK,SAAS+F,EAAKC,EAAWC,EAAQC,GACjD,GAAI7E,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAEpB,IAAIgH,IAEGA,EAAIhC,SAAS1C,EAAOO,cAAe,CACtC,GAAIO,GAAYd,EAAO8E,WAAW7E,EAASa,UAAW4D,EAAKzE,EAASa,UACpEd,GAAO+E,QAAQjE,EAAW6D,EAC1B,IAAI/B,GAAY5C,EAAO6C,aAavB,IAZAD,EAAY5C,EAAOgF,YAAYpC,EAAUqC,YAAYP,IAEhDE,GACHtH,EAAOmH,wBAAyB,WAC9B,GAAIS,GAAQ7H,EAAE,uBAAyB4C,EAASU,UAAY,MAAMI,OAAO,wBAAwBe,IAAI5B,EACrGgF,GAAMpG,KAAM,WACV,GAAIY,GAAKrC,EAAEQ,MAAMkB,KAAKkB,EAAS1B,KAC/BmB,GAAGf,GAAGtB,EAAEQ,OAAO,GAAM,OAKL,YAAlBoC,EAAS1B,KAEXyB,EAAO6D,KAAKa,EAAIlE,KAAK,aAKrB,IAFAR,EAAOmF,cAAcT,IAEhBE,GACChC,EAAU5B,OAASf,EAASpB,IAAK,CACnC,GAAIuG,GAASxC,EAAUyC,OACvBrF,GAAOsD,IAAI8B,IAOrB,GAAInF,EAASgB,SAAU,CACrB,GAAIqE,GAAUtF,EAAO8E,WAAW7E,EAASa,UAAW4D,EAAKzE,EAASgB,SAClE,KAAKqE,EAAQ5C,SAAS1C,EAAOO,gBAC3BP,EAAO+E,QAAQO,EAASX,GAEF,eAAlB1E,EAAS1B,MAAuB,CAClC,GAAIgH,GAAclI,EAAE,OACfkI,GAAY7C,SAAS1C,EAAOO,gBAC/BgF,EAAYjE,SAASrB,EAASvB,OAE9BsB,EAAOwF,QAAQnI,EAAE,2BAO3BI,EAAGQ,UAAUqF,IAAM,SAASoB,EAAKC,EAAWC,EAAQC,GAClD,GAAI7E,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAEpB,IAAIgH,EAAK,CACP,GAAI9B,GAAY5C,EAAO6C,aACvB,IAAI6B,EAAIhC,SAAS1C,EAAOO,cAAe,CACrC,GAAIqE,GAA4B,YAAlB3E,EAAS1B,MAAsBqE,EAAU5B,OAASf,EAASrB,IAAK,CAC5E,GAAIkC,GAAYd,EAAO8E,WAAW7E,EAASa,UAAW4D,EAAKzE,EAASa,UACpEd,GAAOyF,SAAS3E,EAAW6D,GAEzB/B,EADE8B,EAAIlE,KAAK,cACCR,EAAOgF,YAAYpC,EAAUd,IAAI,eAAiB4C,EAAIlE,KAAK,cAAgB,MAE3ER,EAAOgF,YAAYpC,EAAUd,IAAIhB,IAG1C8D,GACHtH,EAAOmH,wBAAyB,WAC9B,GAAIS,GAAQ7H,EAAE,uBAAyB4C,EAASU,UAAY,MAAMI,OAAO,wBAAwBe,IAAI5B,EACrGgF,GAAMpG,KAAM,WACV,GAAIY,GAAKrC,EAAEQ,MAAMkB,KAAKkB,EAAS1B,KAC/BmB,GAAG4D,IAAIjG,EAAEQ,OAAO,GAAM,OAM1B+G,GAA4B,YAAlB3E,EAAS1B,KACrByB,EAAOmF,cAAcT,EAAK,UAE1B1E,EAAOmF,cAAcT,IAK3B,GAAIzE,EAASgB,SAAU,CACrB,GAAIqE,GAAUtF,EAAO8E,WAAW7E,EAASa,UAAW4D,EAAKzE,EAASgB,SAC9DqE,GAAQ5C,SAAS1C,EAAOO,eAC1BP,EAAOyF,SAASH,EAASX,KAK/BlH,EAAGQ,UAAUkH,cAAgB,SAAST,EAAKgB,GACzC,GAAI1F,GAASnC,KACToC,EAAWpC,KAAKoC,SAIhB0F,GAHQ9H,KAAKH,MACJL,EAAEQ,KAAKH,OAEV,WACV,IAAoB,UAAhBuC,EAAStB,GACX,GAAK+G,EAqBgB,YAAVA,EAEThB,EAAIlE,KAAKmF,EAAKA,GACK,WAAVD,GAEThB,EAAIjD,WAAWkE,OA1BL,CAEV,GAEIC,GAFAhD,EAAY5C,EAAO6C,cACnBjE,EAAMqB,EAASrB,GAEfgE,GAAU5B,SAAWpC,GACvBgH,GAAM,EACNhD,EAAUpC,KAAKmF,EAAKA,IAEpB/C,EAAUnB,WAAWkE,GAGvB/C,EAAU7B,OAAO,gBAAgBjC,KAAM,WACrC,GAAI+G,GAAIxI,EAAEQ,MAAM2C,KAAK,cACjBsF,EAAa7F,EAASa,UAAUgB,IAAIjE,MAAMkD,OAAO,gBAAkB8E,EAAI,KACvED,GACFE,EAAWtF,KAAKmF,EAAKA,GAErBG,EAAWrE,WAAWkE,OAiBhClI,EAAGQ,UAAU8G,QAAU,SAASjE,EAAW6D,GACzC,GAAI3E,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,QAEhBgH,EAAM5D,EAAUuC,MAAM,GACtB0C,EAAQrB,CACRzE,GAASb,OACX2G,EAAQrB,EAAI3E,KAAKE,EAASb,MAC1BsF,EAAMA,EAAIO,YAAYc,IAGxBrB,EAAIpD,SAASrB,EAASvB,OAAOiE,YAAY,YACzC3C,EAAOgG,oBAAoBtB,EAAK,QAEhC1E,EAAOiG,kBAAkBvB,EAAKC,EAAW3E,EAAOkG,OAAQ,WAExDlG,EAAOmG,WAAWzB,EAAKC,GACvB3E,EAAOoG,WAAW1B,EAAKC,GACvB3E,EAAOqG,SAAS3B,EAAKC,GACrB3E,EAAOsG,SAAS5B,EAAKC,GAEC,YAAlB1E,EAAS1B,MAEXlB,EAAEE,GAAU+F,IAAI,YAAcrD,EAASU,WAAWhC,GAAG,YAAcsB,EAASU,UAAW,SAAS4C,GAC9F,GAAI+B,GAAUjI,EAAEkG,EAAEK,OACb1D,GAAOJ,GAAGwF,IAAapF,EAAOqG,IAAIjB,GAAStE,QAC9ChB,EAAOsD,IAAIrD,EAASa,WAAW,GAAM,GAAM,KAI3B,eAAlBb,EAAS1B,MAEXmG,EAAI3E,KAAK,kBAAkBuD,IAAI,YAAcrD,EAASU,WAAWhC,GAAG,YAAcsB,EAASU,UAAW,SAAS4C,GAC7GvD,EAAOsD,IAAIrD,EAASa,WAAW,GAAM,GAAO,KAI3C6D,GACHrH,EAAOmH,wBAAyB,WAC9BC,EAAIjC,QAAQ,MAAOzC,OAIzBvC,EAAGQ,UAAUiI,OAAS,SAASxB,EAAKC,GAClC,GAAI3E,GAASnC,IACEA,MAAKoC,SACRpC,KAAKH,MACJL,EAAEQ,KAAKH,MAEhBgH,GAAIhC,SAAS,oBACfgC,EAAInD,IAAI,SAAU,QAEhBmD,EAAIhC,SAAS,mBACfgC,EAAInD,IAAI,QAAS,QAGdoD,GACHrH,EAAOmH,wBAAyB,WAC9BC,EAAIjC,QAAQ,aAAczC,OAKhCvC,EAAGQ,UAAUwH,SAAW,SAAS3E,EAAW6D,GAC1C,GAAI3E,GAASnC,KACToC,EAAWpC,KAAKoC,SAIhByE,GAHQ7G,KAAKH,MACJL,EAAEQ,KAAKH,OAEVoD,EAAUuC,MAAM,IACtB0C,EAAQrB,CACRzE,GAASb,OACX2G,EAAQrB,EAAI3E,KAAKE,EAASb,MAC1BsF,EAAMA,EAAIO,YAAYc,IAGxBrB,EAAI/B,YAAY1C,EAASvB,OAAOiE,YAAY,WAAWrB,SAAS,YAChEtB,EAAOgG,oBAAoBtB,EAAK,QAEhC1E,EAAOiG,kBAAkBvB,EAAKC,EAAW3E,EAAOwG,SAEhDxG,EAAOyG,YAAY/B,EAAKC,GACxBrH,EAAOmH,wBAAyB,WAC9BzE,EAAO0G,YAAYhC,EAAKC,KAGJ,YAAlB1E,EAAS1B,MACXlB,EAAEE,GAAU+F,IAAI,YAAcrD,EAASU,WAGpCgE,GACHrH,EAAOmH,wBAAyB,WAC9BC,EAAIjC,QAAQ,OAAQzC,OAI1BvC,EAAGQ,UAAUuI,QAAU,SAAS9B,EAAKC,GACnC,GAAI3E,GAASnC,KACToC,EAAWpC,KAAKoC,QAWpB,IATAyE,EAAI/B,YAAY,YAEZ+B,EAAIhC,SAAS,oBACfgC,EAAInD,IAAI,SAAU,GAAGA,IAAI,cAAe,GAAGA,IAAI,iBAAkB,GAE/DmD,EAAIhC,SAAS,mBACfgC,EAAInD,IAAI,QAAS,GAAGA,IAAI,eAAgB,GAAGA,IAAI,gBAAiB,GAG5C,eAAlBtB,EAAS1B,KAAuB,CAClC,GAAIgH,GAAclI,EAAE,OAChBkI,GAAY7C,SAAS1C,EAAOO,gBAC9BgF,EAAY5C,YAAY1C,EAASvB,OAEjCsB,EAAO2G,SAAStJ,EAAE,eAIjBsH,GACHrH,EAAOmH,wBAAyB,WAC9BC,EAAIjC,QAAQ,cAAezC,OAKjCvC,EAAGQ,UAAUgI,kBAAoB,SAASvB,EAAKC,EAAWiC,EAAShB,GACjE,GAAI5F,GAASnC,KAETgJ,EAAO,CACXnC,GAAI5F,KAAM,WACR,GAAIgI,GAAUzJ,EAAEQ,KAChBP,GAAOyJ,uBAAuBD,EAAQ/H,KAAK,iBAC3C,IAAIiI,GAAQ1J,EAAOmH,wBAAyB,WACtCmB,GACFkB,EAAQxF,SAASsE,GAEnB5F,EAAOiH,eAAeH,EAAS,OAAQ,WACrC,UAAMD,EAAOnC,EAAI1D,aAGjB4F,GAAQM,MAAMlH,GAAS0E,EAAKC,OAGhCmC,GAAQ/H,KAAK,gBAAiBiI,MAGlCvJ,EAAGQ,UAAUgJ,eAAiB,SAASvC,EAAKyC,EAAIP,GAC9C,GAAI5G,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBmH,EAAInH,EAASoH,OACbC,EAAa5C,EAAInD,IAAI,sBACrBgG,EAAY7C,EAAInD,IAAI,oBAOxB,IANItB,EAASoH,SAAW7J,GAAc8J,IAAe9J,GAAa+J,IAAc/J,GAA8B,OAAf8J,GAAqC,OAAdC,IACpHD,EAAatH,EAAOwH,qBAAqBF,GACzCC,EAAYvH,EAAOwH,qBAAqBD,GACxCH,EAAIK,KAAK5I,IAAIyI,EAAYC,IAGvBH,EAAG,CACL,GAAIM,GAAUpK,EAAOqK,WAAY,SAAS3H,GACxC4G,KACCQ,EACH1C,GAAI3F,KAAK,gBAAkBoI,EAAIO,OAE/Bd,MAGJnJ,EAAGQ,UAAU+H,oBAAsB,SAAStB,EAAKyC,GAC/CS,aAAalD,EAAI3F,KAAK,gBAAkBoI,IACxCzC,EAAIpB,IAAI,oBAAsB6D,GAC9BS,aAAalD,EAAI3F,KAAK,gBAAkBoI,IACxCzC,EAAIpB,IAAI,oBAAsB6D,IAOhC1J,EAAGQ,UAAUkI,WAAa,SAASzB,EAAKC,GACtC,GAAI3E,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhB4H,EAAanD,EAAI3E,KAAKE,EAASZ,UAC/ByI,EAAYzK,KAMhB,IALIwK,EAAW7G,OACb8G,EAAYD,EAAW1G,SACfuD,EAAIhC,SAAS,cACrBoF,EAAYpD,EAAIvD,UAEd2G,EAAU9G,OAAQ,CACpB,GAAI+G,GAAYD,EAAU/H,KAAK,iBAC1BgI,GAAU/G,SACb+G,EAAY1K,EAAE,6CAA6C2F,SAAS8E,IAGtE9H,EAAOgG,oBAAoB+B,EAAW,YACtCzK,EAAOyJ,uBAAuBgB,EAAUhJ,KAAK,iBAC7C,IAAIiI,GAAQ1J,EAAOmH,wBAAyB,WAC1CsD,EAAUzG,SAAS,WACnByG,EAAUpF,YAAY,aAExBoF,GAAUhJ,KAAK,gBAAiBiI,EAEhC,IAAIG,GAAK,mBACY,gBAAjBlH,EAASqD,MACX6D,EAAK,0BAEPY,EAAUzE,IAAI6D,GAAIxI,GAAGwI,EAAI,SAAS5D,GAChCvD,EAAOsD,IAAIrD,EAASa,WAAW,GAAM,GAAO,KAE1C+G,EAAW7G,QACb0D,EAAIpB,IAAI6D,GAAIxI,GAAGwI,EAAI,SAAS5D,GACtBlG,EAAEkG,EAAEK,QAAQ9D,GAAG+H,IACjB7H,EAAOsD,IAAIrD,EAASa,WAAW,GAAM,GAAO,OAMtDrD,EAAGQ,UAAUwI,YAAc,SAAS/B,EAAKC,GACvC,GAAI3E,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhB6H,EAAYpD,EAAIhC,SAAS,YAAcgC,EAAIvD,SAAWuD,EAAI3E,KAAKE,EAASZ,UAAU8B,QACtF,IAAI2G,EAAU9G,OAAQ,CACpB,GAAI+G,GAAYD,EAAU/H,KAAK,iBAC/B,IAAIgI,EAAU/G,OAAQ,CAEpB+G,EAAUpF,YAAY,WACtB3C,EAAOgG,oBAAoB+B,EAAW,YACtCzK,EAAOyJ,uBAAuBgB,EAAUhJ,KAAK,iBAC7C,IAAIiI,GAAQ1J,EAAOmH,wBAAyB,WAC1CsD,EAAUzG,SAAS,YACnBtB,EAAOiH,eAAec,EAAW,WAAY,WAC3CA,EAAUpF,YAAY,YAAYe,YAGtCqE,GAAUhJ,KAAK,gBAAiBiI,GAEhCe,EAAUzE,IAAI,qBACdoB,EAAIpB,IAAI,wBAKd7F,EAAGQ,UAAUmI,WAAa,SAAS1B,GAGjCA,EAAI5F,KAAM,WACR,GAAIgI,GAAUzJ,EAAEQ,KAChB,IAAIiJ,EAAQpE,SAAS,mBAAoB,CACvCoE,EAAQxF,SAAS,iBAAiBC,IAAI,SAAU,QAAQA,IAAI,cAAe,IAAIA,IAAI,iBAAkB,GACrG,IAAIyG,GAAIlB,EAAQmB,cACZC,EAAKpB,EAAQvF,IAAI,eACjB4G,EAAKrB,EAAQvF,IAAI,iBACrBuF,GAAQvF,IAAI,SAAU,GAAGA,IAAI,cAAe,GAAGA,IAAI,iBAAkB,GAEvE,GAAIuF,EAAQpE,SAAS,kBAAmB,CACtCoE,EAAQxF,SAAS,iBAAiBC,IAAI,QAAS,QAAQA,IAAI,eAAgB,IAAIA,IAAI,gBAAiB,GACpG,IAAI6G,GAAItB,EAAQuB,aACZC,EAAKxB,EAAQvF,IAAI,gBACjBgH,EAAKzB,EAAQvF,IAAI,gBACrBuF,GAAQvF,IAAI,QAAS,GAAGA,IAAI,eAAgB,GAAGA,IAAI,gBAAiB,GAEtEjE,EAAOyJ,uBAAuBD,EAAQ/H,KAAK,kBAC3C,IAAIiI,GAAQ1J,EAAOmH,wBAAyB,WACtCqC,EAAQpE,SAAS,oBACnBoE,EAAQnE,YAAY,iBAAiBpB,IAAI,SAAUyG,GAAGzG,IAAI,cAAe2G,GAAI3G,IAAI,iBAAkB4G,GAEjGrB,EAAQpE,SAAS,mBACnBoE,EAAQnE,YAAY,iBAAiBpB,IAAI,QAAS6G,GAAG7G,IAAI,eAAgB+G,GAAI/G,IAAI,gBAAiBgH,GAEhGzB,EAAQpE,SAAS,iBACnBoE,EAAQvF,IAAI,cAAeyG,GAEzBlB,EAAQpE,SAAS,oBACnBoE,EAAQvF,IAAI,iBAAkByG,GAE5BlB,EAAQpE,SAAS,kBACnBoE,EAAQvF,IAAI,eAAgB6G,GAE1BtB,EAAQpE,SAAS,mBACnBoE,EAAQvF,IAAI,gBAAiB6G,IAGjCtB,GAAQ/H,KAAK,iBAAkBiI,MAGnCvJ,EAAGQ,UAAUyI,YAAc,SAAShC,GAElCA,EAAI5F,KAAM,WACR,GAAIgI,GAAUzJ,EAAEQ,KAChB,IAAIiJ,EAAQpE,SAAS,mBAAoB,CACvC,GAAIsF,GAAIlB,EAAQmB,cACZC,EAAKpB,EAAQvF,IAAI,eACjB4G,EAAKrB,EAAQvF,IAAI,iBACrBuF,GAAQvF,IAAI,SAAUyG,GAAGzG,IAAI,cAAe2G,GAAI3G,IAAI,iBAAkB4G,GAExE,GAAIrB,EAAQpE,SAAS,kBAAmB,CACtC,GAAI0F,GAAItB,EAAQuB,aACZC,EAAKxB,EAAQvF,IAAI,gBACjBgH,EAAKzB,EAAQvF,IAAI,gBACrBuF,GAAQvF,IAAI,QAAS6G,GAAG7G,IAAI,eAAgB+G,GAAI/G,IAAI,gBAAiBgH,GAEvEjL,EAAOyJ,uBAAuBD,EAAQ/H,KAAK,kBAC3C,IAAIiI,GAAQ1J,EAAOmH,wBAAyB,WACtCqC,EAAQpE,SAAS,oBACnBoE,EAAQvF,IAAI,SAAU,GAAGA,IAAI,cAAe,GAAGA,IAAI,iBAAkB,GAEnEuF,EAAQpE,SAAS,mBACnBoE,EAAQvF,IAAI,QAAS,GAAGA,IAAI,eAAgB,GAAGA,IAAI,gBAAiB,GAElEuF,EAAQpE,SAAS,iBACnBoE,EAAQvF,IAAI,aAAc,GAExBuF,EAAQpE,SAAS,oBACnBoE,EAAQvF,IAAI,gBAAiB,GAE3BuF,EAAQpE,SAAS,kBACnBoE,EAAQvF,IAAI,cAAe,GAEzBuF,EAAQpE,SAAS,mBACnBoE,EAAQvF,IAAI,eAAgB,IAGhCuF,GAAQ/H,KAAK,iBAAkBiI,MAInCvJ,EAAGQ,UAAUoI,SAAW,SAAS3B,GAE/BA,EAAI5F,KAAM,WACR,GAAIgI,GAAUzJ,EAAEQ,KAChB,IAAIiJ,EAAQpE,SAAS,YAAcoE,EAAQtG,KAAK,eAAgB,CAC9D,GAAIU,GAAW4F,EAAQ3F,SACnByE,EAAM1E,EAAS+G,cAAgB,EAC/BvE,EAASoD,EAAQmB,cAAgB,CACrCnB,GAAQtG,KAAK,eAAe,GAAMe,IAAI,MAAOqE,EAAMlC,OAIzDjG,EAAGQ,UAAUqI,SAAW,SAAS5B,GAE/BA,EAAI5F,KAAM,WACR,GAAIgI,GAAUzJ,EAAEQ,KAChB,IAAIiJ,EAAQpE,SAAS,YAAcoE,EAAQtG,KAAK,eAAgB,CAC9D,GAAIU,GAAW4F,EAAQ3F,SACnByE,EAAM1E,EAASmH,aAAe,EAC9B3E,EAASoD,EAAQuB,aAAe,CACpCvB,GAAQtG,KAAK,eAAe,GAAMe,IAAI,OAAQqE,EAAMlC,OAS1DjG,EAAGQ,UAAU4E,YAAc,WACzB,GACI5C,GAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,QAEhBkF,EAAY1C,EAAOnB,KAAK,aAAekB,EAASU,YAActD,KAClE,OAAOuF,IAGTnF,EAAGQ,UAAU+G,YAAc,SAASpC,GAClC,GACI3C,GAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAGpB,OADAwC,GAAOnB,KAAK,aAAekB,EAASU,UAAWiC,GACxCA,GAGTnF,EAAGQ,UAAU6G,WAAa,SAAShE,EAAW4D,EAAK8D,GACjD,GAAIxI,GAASnC,KACToC,EAAWpC,KAAKoC,SAEhBC,GADQrC,KAAKH,MACJL,EAAEQ,KAAKH,OAEpB,IAAIoD,EAAUhB,GAAGI,GACf,MAAOsI,EACF,IAAI9D,EAAI5E,GAAG,gBAAiB,CAEjC,GAAI+F,GAAInB,EAAIlE,KAAK,aACjB,OAAOgI,GAAGzH,OAAO,gBAAkB8E,EAAI,MAEvC,GAAI5F,EAASgB,SAASsF,IAAIiC,GAAK,CAC7B,GAAIC,GAAQzI,EAAO0I,SAAS5H,EAAUgB,IAAI,gBAAiB4C,EAC3D,OAAO8D,GAAG1G,IAAI,gBAAgBiB,GAAG0F,GAEjC,MAAO/D,IAKbjH,EAAGQ,UAAUuH,QAAU,SAASd,GAC9B,GAAI1E,GAASnC,KAKTuK,GAJWvK,KAAKoC,SACRpC,KAAKH,MACJL,EAAEQ,KAAKH,OAEZsC,EAAO2I,eAAejE,GAC9B0D,GAA8B,WAA1B1D,EAAInD,IAAI,cAA6B,EAAI6G,EAC7C1D,EAAIpD,SAAS,YAAYC,IAAI,QAAS6G,GAAG7G,IAAI,gBAAiB6G,IAGhE3K,EAAGQ,UAAU0I,SAAW,SAASjC,GAEhB7G,KAAKoC,SACRpC,KAAKH,MACJL,EAAEQ,KAAKH,MAEpBgH,GAAI/B,YAAY,YAAYpB,IAAI,QAAS,GAAGA,IAAI,gBAAiB,IAGnE9D,EAAGQ,UAAUyK,SAAW,SAAS5H,EAAW4D,GAC1C,GAAI+D,GAAQ,CASZ,OARI3H,IAAa4D,GACf5D,EAAUhC,KAAM,SAAS0C,GACvB,GAAInE,EAAEQ,MAAMiC,GAAG4E,EAAIkE,IAAI,IAErB,MADAH,GAAQjH,GACD,IAINiH,GAGThL,EAAGQ,UAAU0K,eAAiB,SAASjE,GACrC,GAAIvD,GAAQ0H,EAAO9E,CAOnB,OANGA,KAAUvG,IACX2D,EAAS9D,EAAE,sEAAsE2F,SAAS0B,GAC1FmE,EAAQ1H,EAAO2H,WACf/E,EAAQ8E,EAAME,aAAeF,EAAMG,OAAO,IAAID,aAC9C5H,EAAOuC,UAEFK,GAGTtG,EAAGQ,UAAUuJ,qBAAuB,SAAS7B,GAC3C,GAEIsD,GAFAC,EAAM1E,WAAWmB,EAAK,IACtBwD,EAAOxD,EAAIyD,MAAM,MAKrB,QAHID,IACFA,EAAOA,EAAK,IAENA,GACN,IAAK,IACHF,EAAW,IAANC,CACL,MACF,KAAK,KACHD,EAAKC,CACL,MACF,SACED,EAAK,EAGT,MAAOA,IAOTxL,EAAGQ,UAAU4F,KAAO,SAAS9B,EAAKS,GAChC,GAAIxC,GAASnC,KACToC,EAAWpC,KAAKoC,QACRpC,MAAKH,MACJL,EAAEQ,KAAKH,MAEhBuC,GAASgB,SAAST,KAAK,uBAAyBuB,GAElD1E,EAAEwG,MACAwF,KAAM,MACNtH,IAAKA,EACLuH,QAAS,SAASvK,EAAMwK,EAAYC,GAClC,GAAIC,GAAQpM,EAAE,WAAWqM,KAAK3K,EAE9BkB,GAASgB,SAASwB,QAAQ,mBAAoBzC,EAAQyJ,GAEtD,IAAIE,GAAQF,EAAM1J,KAAKE,EAASxB,SAASmL,UACzCpH,GAASA,EAAqCA,EAA7BiH,EAAM1J,KAAK,SAAS8J,OACrC5J,EAASgB,SAASyI,KAAKC,GACvB1J,EAASgB,SAAST,KAAK,oBAAqBuB,GAE5C/B,EAAOU,QACPV,EAAOa,SAEPb,EAAOuC,UAAUR,EAAKS,GAEtBvC,EAASgB,SAASwB,QAAQ,qBAAsBzC,EAAQyJ,IACxDxJ,EAASgB,SAASrB,WAAU,IAE9BkK,MAAO,SAASN,EAAOD,EAAYQ,GACjCC,QAAQF,MAAM,kBAAoB/H,EAAM,IAAMgI,OAMtDtM,EAAGQ,UAAUsE,UAAY,SAASR,EAAKS,GACrC,GAAIxC,GAASnC,KACToC,EAAWpC,KAAKoC,QACRpC,MAAKH,MACJL,EAAEQ,KAAKH,MAEpBH,GAASiF,MAAQA,EAEjBvC,EAASa,UAAUC,OAAO,UAAYgB,EAAM,MAAMjD,KAAM,WACtDkB,EAAOrB,GAAGtB,EAAEQ,OAAO,GAAM,GAAO,KAG7BoE,QAAQC,OAAUD,QAAQC,MAAMH,KAAOE,QAAQC,MAAMH,MAAQA,GAChEE,QAAQgI,WAAWlI,IAAOA,EAAKS,MAASA,GAAQA,EAAOT,IAS3DzE,EAAOmH,wBAA0B,WAC/B,MAAOnH,GAAO4M,uBAAyB5M,EAAO6M,6BAA+B7M,EAAO8M,0BAA4B,SAASC,GACvH/M,EAAOqK,WAAW0C,EAAU,IAAO,QAGvC/M,EAAOyJ,uBAAyB,SAAWuD,GACzC,MAAOhN,GAAOiN,sBAAwBjN,EAAOkN,4BAA8BlN,EAAOmN,yBAA2B,SAASJ,GACpH/M,EAAOsK,aAAa0C,OAOxBjN,EAAEgB,GAAG4G,YAAc,SAASP,GAE1B,MADAgG,OAAMzM,UAAU0M,KAAKzD,MAAMrJ,KAAM6G,GAC1B7G,MAKTR,EAAEuN,MAAMC,QAAQC,WACdpH,OAAQ,SAASqH,GACXA,EAAEC,SAAWD,EAAEC,YAOvB3N,EAAE4N,KAAK,KAAKC,QAAU,SAASC,EAAG3J,EAAG4J,GACnC,MAAO/N,GAAE8N,GAAGD,QAAQE,EAAE,IAAIpK,OAAS,GAKrC3D,EAAE4N,KAAK,KAAKI,MAAQ,SAASF,EAAG3J,EAAG4J,GACjC,MAAgC,UAAzB/N,EAAE8N,GAAG5J,IAAI,aAKlBlE,EAAE4N,KAAK,KAAKK,SAAW,SAASH,EAAG3J,EAAG4J,GACpC,MAAgC,aAAzB/N,EAAE8N,GAAG5J,IAAI,cAGjBgK,OAAQjO,OAAQC","file":"xtend.min.js","sourcesContent":["/*! xtend v0.0.6 (http://www.minimit.com/xtend/)\r\n@copyright (c) 2016 - 2017 Riccardo Caroli\r\n@license MIT (https://github.com/minimit/xtend/blob/master/LICENSE) */\r\n\r\n;( function($, window, document, undefined) {\r\n\r\n  'use strict';\r\n  \r\n  //////////////////////\r\n  // constructor\r\n  //////////////////////\r\n\r\n  var Xt = function(group, defaults, options) {\r\n    this.group = group;\r\n    this.init(defaults, options);\r\n  };\r\n  \r\n  var XtToggle = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtToggle.prototype = Object.create(Xt.prototype);\r\n  XtToggle.prototype.constructor = XtToggle;\r\n  $.fn.xtToggle = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-toggle',\r\n      'elements': '> .button',\r\n      'targets': '[class^=\"toggle-\"], [class*=\" toggle-\"]',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtToggle(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtDrop = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtDrop.prototype = Object.create(Xt.prototype);\r\n  XtDrop.prototype.constructor = XtDrop;\r\n  $.fn.xtDrop = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-drop',\r\n      'elements': '> .button',\r\n      'targets': '.drop',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtDrop(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtOverlay = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtOverlay.prototype = Object.create(Xt.prototype);\r\n  XtOverlay.prototype.constructor = XtOverlay;\r\n  $.fn.xtOverlay = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-overlay',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'min': 0,\r\n      'max': 1,\r\n      'anim': '.overlay-inner',\r\n      'backdrop': '.overlay-inner',\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtOverlay(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtScroll = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtScroll.prototype = Object.create(Xt.prototype);\r\n  XtScroll.prototype.constructor = XtScroll;\r\n  $.fn.xtScroll = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-scroll',\r\n      'class': 'active',\r\n      'on': 'scroll',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtScroll(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtAjax = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtAjax.prototype = Object.create(Xt.prototype);\r\n  XtAjax.prototype.constructor = XtAjax;\r\n  $.fn.xtAjax = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-ajax',\r\n      'class': 'active',\r\n      'on': 'click',\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtAjax(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // init\r\n  //////////////////////\r\n  \r\n  $.fn.xt = {\r\n    'uid': 0\r\n  };\r\n  \r\n  $.fn.xtInitAll = function(deep) {\r\n    return this.each( function() {\r\n      if ($(this).is('[data-xt-toggle]')) {\r\n        $(this).xtToggle();\r\n      }\r\n      if ($(this).is('[data-xt-drop]')) {\r\n        $(this).xtDrop();\r\n      }\r\n      if ($(this).is('[data-xt-overlay]')) {\r\n        $(this).xtOverlay();\r\n      }\r\n      if ($(this).is('[data-xt-scroll]')) {\r\n        $(this).xtScroll();\r\n      }\r\n      if ($(this).is('[data-xt-ajax]')) {\r\n        $(this).xtAjax();\r\n      }\r\n      if (deep) {\r\n        $(this).find('[data-xt-toggle]').xtToggle();\r\n        $(this).find('[data-xt-drop]').xtDrop();\r\n        $(this).find('[data-xt-overlay]').xtOverlay();\r\n        $(this).find('[data-xt-scroll]').xtScroll();\r\n        $(this).find('[data-xt-ajax]').xtAjax();\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // init methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.init = function(defaults, options) {\r\n    var object = this;\r\n    var settings = this.settings = {};\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // override with js settings\r\n    settings = $.extend(settings, defaults, options);\r\n    // override with html settings\r\n    $.extend(settings, $group.data(settings.name));\r\n    // defaults.class\r\n    var arr = settings.class.split(' ');\r\n    if (arr.indexOf(defaults.class) === -1) {\r\n      settings.class += ' ' + defaults.class;\r\n    }\r\n    object.defaultClass = defaults.class;\r\n    // debug\r\n    if ($group.attr('debug') || $group.attr('debug') === '') {\r\n      settings.debug = true;\r\n    }\r\n    // setup\r\n    object.scope();\r\n    object.namespace();\r\n    object.setup();\r\n    object.events();\r\n  };\r\n\r\n  Xt.prototype.namespace = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // namespace\r\n    if (settings.targets && settings.targets.indexOf('#') !== -1) {\r\n      settings.uid = settings.targets;\r\n    } else if($group.attr('id')) {\r\n      settings.uid = $group.attr('id');\r\n    } else {\r\n      settings.uid = 'unique' + $.fn.xt.uid++;\r\n    }\r\n    settings.namespace = settings.name + '_' + settings.uid + '_' + settings.class;\r\n    $group.attr('data-xt-namespace', settings.namespace);\r\n  };\r\n  \r\n  Xt.prototype.scope = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements\r\n    settings.$elements = null;\r\n    if (settings.elements) {\r\n      if (settings.elements.indexOf('#') !== -1) {\r\n        settings.$elements = $(settings.elements).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$elements = $group.find(settings.elements).filter(':parents(.xt-ignore)');\r\n      }\r\n    }\r\n    if (!settings.$elements || !settings.$elements.length) {\r\n      settings.$elements = $group;\r\n    }\r\n    // $targets\r\n    settings.$targets = null;\r\n    if (settings.name === 'xt-scroll') {\r\n      // wrapper\r\n      var $outside = $group.parent('.xt-container.xt-position');\r\n      if (!$outside.length) {\r\n        $outside = $group.wrap($('<div class=\"xt-container xt-position\"></div>'));\r\n      }\r\n      // xt-scroll $targets\r\n      settings.$targets = $outside.find('.xt-clone.xt-ignore');\r\n      if (!settings.$targets.length) {\r\n        settings.$targets = $group.clone().addClass('xt-clone xt-ignore').css('visibility', 'hidden');\r\n        $.each(settings.$targets.data(), function(i) {\r\n          settings.$targets.removeAttr('data-' + i);\r\n        });\r\n        settings.$targets.insertAfter($group);\r\n      }\r\n      // stuff\r\n      if (settings.mode === 'absolute') {\r\n        $group.css('position', 'absolute');\r\n      } else if (settings.mode === 'fixed') {\r\n        $group.css('position', 'fixed');\r\n      }\r\n      if ($group.is(':fixed') || $group.is(':absolute')) {\r\n        $group.css('z-index', 70);\r\n        settings.$targets.css('display', 'block');\r\n      } else {\r\n        settings.$targets.css('display', 'none');\r\n      }\r\n    } else if(settings.targets) {\r\n      if (settings.targets.indexOf('#') !== -1) {\r\n        settings.$targets = $(settings.targets).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        var $t = $group.find(settings.targets);\r\n        var $tinner = $t.find(settings.targets);\r\n        settings.$targets = $t.not($tinner).filter(':parents(.xt-ignore)');\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.setup = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // initial activations\r\n    if (settings.name === 'xt-ajax') {\r\n      var url;\r\n      var found;\r\n      if (history.state && history.state.url) {\r\n        // detect from history\r\n        url = history.state.url;\r\n      } else {\r\n        // detect from url location (absolute url without domain name)\r\n        var loc = window.location.href.split('#')[0];\r\n        url = loc.replace(/https?:\\/\\/[^\\/]+/i, '');\r\n      }\r\n      settings.$elements.each( function() {\r\n        if ($(this).attr('href') === url) {\r\n          found = $(this);\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        // set ajaxified\r\n        settings.$targets.attr('data-xt-ajaxified', url);\r\n        object.pushstate(url, document.title);\r\n        // then on\r\n        object.on(found);\r\n        // api\r\n        settings.$targets.trigger('ajax.init.xt', [object]);\r\n      }\r\n    } else {\r\n      // automatic reinit if has class\r\n      if (settings.$elements) {\r\n        settings.$elements.each( function() {\r\n          if ($(this).hasClass(object.defaultClass)) {\r\n            $(this).removeClass(settings.class);\r\n            object.on($(this));\r\n          }\r\n        });\r\n        // automatic init if $currents < min\r\n        var $currents = object.getCurrents();\r\n        var todo = settings.min - $currents.length;\r\n        if (todo) {\r\n          for (var i = 0; i < todo; i++) {\r\n            object.on(settings.$elements.eq(i));\r\n          }\r\n        }\r\n      }\r\n      if (settings.name === 'xt-overlay') {\r\n        settings.$targets.appendTo('body');\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.events = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // events\r\n    if (settings.name === 'xt-scroll') {\r\n      object.eventsScroll();\r\n    } else {\r\n      object.eventsDefault();\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.eventsDefault = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements events\r\n    var $eventElement;\r\n    var $eventTarget = settings.$elements.slice(0);\r\n    if (settings.name === 'xt-drop' && settings.off === 'mouseleave') {\r\n      $eventElement = $eventTarget;\r\n      $eventTarget = $group;\r\n    }\r\n    if ($eventTarget) {\r\n      // on off events\r\n      if (settings.on) {\r\n        $eventTarget.off(settings.on + '.xt').on(settings.on + '.xt', function(e) {\r\n          var $t = $eventElement ? $eventElement : $(this);\r\n          object.toggle($t);\r\n          if (settings.name === 'xt-ajax') {\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n      if (settings.off) {\r\n        $eventTarget.off(settings.off + '.xt').on(settings.off + '.xt', function(e) {\r\n          var $t = $eventElement ? $eventElement : $(this);\r\n          object.toggle($t);\r\n        });\r\n      }\r\n      // close on link click\r\n      if (settings.name === 'xt-drop') {\r\n        settings.$targets.find('[href], [data-xt-reset]').off('click.xt.href').on('click.xt.href', function(e) {\r\n          object.off($eventTarget);\r\n        });\r\n      }\r\n      // remove html classes\r\n      $eventTarget.off('xtRemoved').on('xtRemoved', function(e) {\r\n        if (settings.name === 'xt-overlay') { // @TODO $group.is('[data-xt-reset]')\r\n          settings.$targets.remove();\r\n          object.off($(this), false, true, true);\r\n        }\r\n      });\r\n      // api\r\n      $eventTarget.off('on.xt').on('on.xt', function(e, obj) {\r\n        if (e.target === this) {\r\n          object.on($(this), true);\r\n        }\r\n      });\r\n      $eventTarget.off('off.xt').on('off.xt', function(e, obj) {\r\n        if (e.target === this) {\r\n          object.off($(this), true);\r\n        }\r\n      });\r\n    }\r\n    // ajax events\r\n    if (settings.name === 'xt-ajax') {\r\n      // popstate\r\n      $(window).off('popstate.xt.' + settings.namespace).on('popstate.xt.' + settings.namespace, function(e) {\r\n        if (history.state && history.state.url) {\r\n          object.ajax(history.state.url, history.state.title);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // events methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.eventsScroll = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // resize\r\n    var $outside = settings.$targets.parent('.xt-container.xt-position');\r\n    var resizeNamespace = 'resize.xt.' + settings.namespace;\r\n    $(window).off(resizeNamespace);\r\n    $(window).on(resizeNamespace, function(e) {\r\n      $outside.css('width', $outside.parent().width()); // fix fixed width\r\n    });\r\n    $(window).trigger(resizeNamespace);\r\n    // scroll\r\n    var scrollNamespace = 'scroll.xt.' + settings.namespace;\r\n    $(window).off(scrollNamespace);\r\n    $(window).on(scrollNamespace, function(e) {\r\n      var scrollTop = $(this).scrollTop();\r\n      if (scrollTop !== settings.scrollTopOld) {\r\n        // on or off\r\n        var top = $outside.offset().top;\r\n        var bottom = Infinity;\r\n        if (settings.top !== undefined) {\r\n          if (!isNaN(parseFloat(settings.top))) {\r\n            top = settings.top;\r\n          } else {\r\n            top = $(settings.top).offset().top;\r\n          }\r\n        }\r\n        if (settings.bottom !== undefined) {\r\n          if (!isNaN(parseFloat(settings.bottom))) {\r\n            bottom = settings.bottom;\r\n          } else if ($(settings.bottom).length) {\r\n            bottom = $(settings.bottom).offset().top;\r\n          }\r\n        }\r\n        if (scrollTop >= top && scrollTop < bottom) {\r\n          if (!$group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.on($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-off-top scroll-off-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-on-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-on-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-top');\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          if ($group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.off($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-on-top scroll-on-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-off-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-off-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-top');\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      settings.scrollTopOld = scrollTop;\r\n    });\r\n    $(window).trigger(scrollNamespace);\r\n    // remove window event on remove\r\n    $group.on('xtRemoved', function(e) {\r\n      $(window).off(resizeNamespace);\r\n      $(window).off(scrollNamespace);\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // toggle methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.toggle = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // choose based on state\r\n    if (!$el.hasClass(object.defaultClass)) {\r\n      object.on($el, triggered, isSync, skipState);\r\n    } else {\r\n      object.off($el, triggered, isSync, skipState);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.on = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // on\r\n    if ($el) {\r\n      // on and add in $currents\r\n      if (!$el.hasClass(object.defaultClass)) {\r\n        var $elements = object.getIndexed(settings.$elements, $el, settings.$elements);\r\n        object.onAfter($elements, triggered);\r\n        var $currents = object.getCurrents();\r\n        $currents = object.setCurrents($currents.pushElement($el));\r\n        // sync\r\n        if (!isSync) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            var $sync = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n            $sync.each( function() {\r\n              var xt = $(this).data(settings.name);\r\n              xt.on($(this), true, true);\r\n            });\r\n          });\r\n        }\r\n        // control over ond\r\n        if (settings.name === 'xt-ajax') {\r\n          // ajax\r\n          object.ajax($el.attr('href'));\r\n        } else {\r\n          // [disabled]\r\n          object.checkDisabled($el);\r\n          // off max or differents\r\n          if (!isSync) {\r\n            if ($currents.length > settings.max) {\r\n              var $first = $currents.first();\r\n              object.off($first);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // on $target\r\n    if (settings.$targets) {\r\n      var $target = object.getIndexed(settings.$elements, $el, settings.$targets);\r\n      if (!$target.hasClass(object.defaultClass)) {\r\n        object.onAfter($target, triggered);\r\n        // overlay html\r\n        if (settings.name === 'xt-overlay') {\r\n          var $additional = $('html');\r\n          if (!$additional.hasClass(object.defaultClass)) {\r\n            $additional.addClass(settings.class);\r\n            // add paddings\r\n            object.onFixed($('html, .xt-backdrop')); // use this for all position fixed $('*:fixed').not($target);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.off = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // off\r\n    if ($el) {\r\n      var $currents = object.getCurrents();\r\n      if ($el.hasClass(object.defaultClass)) {\r\n        if (isSync || settings.name === 'xt-ajax' || $currents.length > settings.min) {\r\n          var $elements = object.getIndexed(settings.$elements, $el, settings.$elements);\r\n          object.offAfter($elements, triggered);\r\n          if ($el.attr('data-group')) {\r\n            $currents = object.setCurrents($currents.not('[data-group=' + $el.attr('data-group') + ']'));\r\n          } else {\r\n            $currents = object.setCurrents($currents.not($elements));\r\n          }\r\n          // sync\r\n          if (!isSync) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              var $sync = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n              $sync.each( function() {\r\n                var xt = $(this).data(settings.name);\r\n                xt.off($(this), true, true);\r\n              });\r\n            });\r\n          }\r\n        }\r\n        // [disabled]\r\n        if (isSync || settings.name === 'xt-ajax') {\r\n          object.checkDisabled($el, 'enable');\r\n        } else {\r\n          object.checkDisabled($el);\r\n        }\r\n      }\r\n    }\r\n    // off $target\r\n    if (settings.$targets) {\r\n      var $target = object.getIndexed(settings.$elements, $el, settings.$targets);\r\n      if ($target.hasClass(object.defaultClass)) {\r\n        object.offAfter($target, triggered);\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.checkDisabled = function($el, force) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // manage [disabled] attribute\r\n    var str = 'disabled';\r\n    if (settings.on === 'click') {\r\n      if (!force) {\r\n        // automatic based on max\r\n        var $currents = object.getCurrents();\r\n        var min = settings.min;\r\n        var add;\r\n        if ($currents.length === min) {\r\n          add = true;\r\n          $currents.attr(str, str);\r\n        } else {\r\n          $currents.removeAttr(str);\r\n        }\r\n        // sync data-group\r\n        $currents.filter('[data-group]').each( function() {\r\n          var g = $(this).attr('data-group');\r\n          var $dataGroup = settings.$elements.not(this).filter('[data-group=\"' + g + '\"]');\r\n          if (add) {\r\n            $dataGroup.attr(str, str);\r\n          } else {\r\n            $dataGroup.removeAttr(str);\r\n          }\r\n        });\r\n      } else if (force === 'disable') {\r\n        // force disable\r\n        $el.attr(str, str);\r\n      } else if (force === 'enable') {\r\n        // force enable\r\n        $el.removeAttr(str);\r\n      }\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // on and off methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.onAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $anim\r\n    var $el = $elements.slice(0);\r\n    var $anim = $el;\r\n    if (settings.anim) {\r\n      $anim = $el.find(settings.anim);\r\n      $el = $el.pushElement($anim);\r\n    }\r\n    // on\r\n    $el.addClass(settings.class).removeClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // in\r\n    object.animationMultiple($el, triggered, object.onDone, 'fade-in');\r\n    // animations\r\n    object.onBackdrop($el, triggered);\r\n    object.onCollapse($el, triggered);\r\n    object.onMiddle($el, triggered);\r\n    object.onCenter($el, triggered);\r\n    // events\r\n    if (settings.name === 'xt-drop') {\r\n      // close on document click\r\n      $(document).off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        var $target = $(e.target);\r\n        if (!$group.is($target) && !$group.has($target).length) {\r\n          object.off(settings.$elements, true, true, true);\r\n        }\r\n      });\r\n    }\r\n    if (settings.name === 'xt-overlay') {\r\n      // close on .overlay-close\r\n      $el.find('.overlay-close').off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        object.off(settings.$elements, true, false, true);\r\n      });\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      window.xtRequestAnimationFrame( function() {\r\n        $el.trigger('on', [object]);\r\n      });\r\n    }\r\n  };\r\n  Xt.prototype.onDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // collapse-width and collapse-height\r\n    if ($el.hasClass('collapse-height')) {\r\n      $el.css('height', 'auto');\r\n    }\r\n    if ($el.hasClass('collapse-width')) {\r\n      $el.css('width', 'auto');\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      window.xtRequestAnimationFrame( function() {\r\n        $el.trigger('fadein.xt', [object]);\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.offAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $anim\r\n    var $el = $elements.slice(0);\r\n    var $anim = $el;\r\n    if (settings.anim) {\r\n      $anim = $el.find(settings.anim);\r\n      $el = $el.pushElement($anim);\r\n    }\r\n    // off\r\n    $el.removeClass(settings.class).removeClass('fade-in').addClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // out\r\n    object.animationMultiple($el, triggered, object.offDone);\r\n    // animations\r\n    object.offBackdrop($el, triggered);\r\n    window.xtRequestAnimationFrame( function() {\r\n      object.offCollapse($el, triggered);\r\n    });\r\n    // close on document click\r\n    if (settings.name === 'xt-drop') {\r\n      $(document).off('click.xt.' + settings.namespace);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      window.xtRequestAnimationFrame( function() {\r\n        $el.trigger('off', [object]);\r\n      });\r\n    }\r\n  };\r\n  Xt.prototype.offDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // when animation is done\r\n    $el.removeClass('fade-out');\r\n    // collapse-width and collapse-height\r\n    if ($el.hasClass('collapse-height')) {\r\n      $el.css('height', 0).css('padding-top', 0).css('padding-bottom', 0);\r\n    }\r\n    if ($el.hasClass('collapse-width')) {\r\n      $el.css('width', 0).css('padding-left', 0).css('padding-right', 0);\r\n    }\r\n    // overlay html\r\n    if (settings.name === 'xt-overlay') {\r\n      var $additional = $('html');\r\n      if ($additional.hasClass(object.defaultClass)) {\r\n        $additional.removeClass(settings.class);\r\n        // remove paddings\r\n        object.offFixed($('.xt-fixed')); // use this for all position fixed $('*:fixed').not($target);\r\n      }\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      window.xtRequestAnimationFrame( function() {\r\n        $el.trigger('fadeout.xt', [object]);\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.animationMultiple = function($el, triggered, callout, add) {\r\n    var object = this;\r\n    // animationMultiple\r\n    var done = 0;\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      window.xtCancelAnimationFrame($single.data('frame.timeout'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        if (add) {\r\n          $single.addClass(add);\r\n        }\r\n        object.animationDelay($single, 'anim', function() {\r\n          if (++done < $el.length) {\r\n            return false;\r\n          }\r\n          callout.apply(object, [$el, triggered]);\r\n        });\r\n      });\r\n      $single.data('frame.timeout', frame);\r\n    });\r\n  };\r\n  Xt.prototype.animationDelay = function($el, ns, callout) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // time\r\n    var t = settings.timing;\r\n    var transition = $el.css('transitionDuration');\r\n    var animation = $el.css('animationDuration');\r\n    if (settings.timing === undefined && (transition !== undefined || animation !== undefined) && (transition !== '0s' || animation !== '0s')) {\r\n      transition = object.stringToMilliseconds(transition);\r\n      animation = object.stringToMilliseconds(animation);\r\n      t = Math.max(transition, animation);\r\n    }\r\n    // delay for animations\r\n    if (t) {\r\n      var timeout = window.setTimeout( function(object) {\r\n        callout();\r\n      }, t);\r\n      $el.data('fade.timeout.' + ns, timeout);\r\n    } else {\r\n      callout();\r\n    }\r\n  };\r\n  Xt.prototype.animationDelayClear = function($el, ns) {\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n  };\r\n  \r\n  //////////////////////\r\n  // animations methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.onBackdrop = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation in\r\n    var $container = $el.find(settings.backdrop);\r\n    var $position = $([]);\r\n    if ($container.length) { // for .backdrop ex: modals\r\n      $position = $container.parent();\r\n    } else if($el.hasClass('backdrop')) {\r\n      $position = $el.parent();\r\n    }\r\n    if ($position.length) {\r\n      var $backdrop = $position.find('> .xt-backdrop');\r\n      if (!$backdrop.length) {\r\n        $backdrop = $('<div class=\"xt-backdrop xt-ignore\"></div>').appendTo($position);\r\n      }\r\n      // animations\r\n      object.animationDelayClear($backdrop, 'backdrop');\r\n      window.xtCancelAnimationFrame($backdrop.data('frame.timeout'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        $backdrop.addClass('fade-in');\r\n        $backdrop.removeClass('fade-out');\r\n      });\r\n      $backdrop.data('frame.timeout', frame);\r\n      // events\r\n      var ns = 'click.backdrop.xt';\r\n      if (settings.off === 'mouseleave') {\r\n        ns = 'mouseenter.backdrop.xt';\r\n      }\r\n      $backdrop.off(ns).on(ns, function(e) {\r\n        object.off(settings.$elements, true, false, true);\r\n      });\r\n      if ($container.length) { // for .backdrop ex: modals\r\n        $el.off(ns).on(ns, function(e) {\r\n          if ($(e.target).is($container)) {\r\n            object.off(settings.$elements, true, false, true);\r\n          }\r\n        });\r\n      }\r\n    }\r\n  };\r\n  Xt.prototype.offBackdrop = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation out\r\n    var $position = $el.hasClass('backdrop') ? $el.parent() : $el.find(settings.backdrop).parent();\r\n    if ($position.length) {\r\n      var $backdrop = $position.find('> .xt-backdrop');\r\n      if ($backdrop.length) {\r\n        // animations\r\n        $backdrop.removeClass('fade-in');\r\n        object.animationDelayClear($backdrop, 'backdrop');\r\n        window.xtCancelAnimationFrame($backdrop.data('frame.timeout'));\r\n        var frame = window.xtRequestAnimationFrame( function() {\r\n          $backdrop.addClass('fade-out');\r\n          object.animationDelay($backdrop, 'backdrop', function() {\r\n            $backdrop.removeClass('fade-out').remove();\r\n          });\r\n        });\r\n        $backdrop.data('frame.timeout', frame);\r\n        // events\r\n        $backdrop.off('click.backdrop.xt');\r\n        $el.off('click.backdrop.xt');\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onCollapse = function($el) {\r\n    var object = this;\r\n    // animation in\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('collapse-height')) {\r\n        $single.addClass('no-transition').css('height', 'auto').css('padding-top', '').css('padding-bottom', '');\r\n        var h = $single.outerHeight();\r\n        var pt = $single.css('padding-top');\r\n        var pb = $single.css('padding-bottom');\r\n        $single.css('height', 0).css('padding-top', 0).css('padding-bottom', 0);\r\n      }\r\n      if ($single.hasClass('collapse-width')) {\r\n        $single.addClass('no-transition').css('width', 'auto').css('padding-left', '').css('padding-right', '');\r\n        var w = $single.outerWidth();\r\n        var pl = $single.css('padding-left');\r\n        var pr = $single.css('padding-right');\r\n        $single.css('width', 0).css('padding-left', 0).css('padding-right', 0);\r\n      }\r\n      window.xtCancelAnimationFrame($single.data('frame.collapse'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        if ($single.hasClass('collapse-height')) {\r\n          $single.removeClass('no-transition').css('height', h).css('padding-top', pt).css('padding-bottom', pb);\r\n        }\r\n        if ($single.hasClass('collapse-width')) {\r\n          $single.removeClass('no-transition').css('width', w).css('padding-left', pl).css('padding-right', pr);\r\n        }\r\n        if ($single.hasClass('collapse-top')) {\r\n          $single.css('margin-top', -h);\r\n        }\r\n        if ($single.hasClass('collapse-bottom')) {\r\n          $single.css('margin-bottom', -h);\r\n        }\r\n        if ($single.hasClass('collapse-left')) {\r\n          $single.css('margin-left', -w);\r\n        }\r\n        if ($single.hasClass('collapse-right')) {\r\n          $single.css('margin-right', -w);\r\n        }\r\n      });\r\n      $single.data('frame.collapse', frame);\r\n    });\r\n  };\r\n  Xt.prototype.offCollapse = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('collapse-height')) {\r\n        var h = $single.outerHeight();\r\n        var pt = $single.css('padding-top');\r\n        var pb = $single.css('padding-bottom');\r\n        $single.css('height', h).css('padding-top', pt).css('padding-bottom', pb);\r\n      }\r\n      if ($single.hasClass('collapse-width')) {\r\n        var w = $single.outerWidth();\r\n        var pl = $single.css('padding-left');\r\n        var pr = $single.css('padding-right');\r\n        $single.css('width', w).css('padding-left', pl).css('padding-right', pr);\r\n      }\r\n      window.xtCancelAnimationFrame($single.data('frame.collapse'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        if ($single.hasClass('collapse-height')) {\r\n          $single.css('height', 0).css('padding-top', 0).css('padding-bottom', 0);\r\n        }\r\n        if ($single.hasClass('collapse-width')) {\r\n          $single.css('width', 0).css('padding-left', 0).css('padding-right', 0);\r\n        }\r\n        if ($single.hasClass('collapse-top')) {\r\n          $single.css('margin-top', 0);\r\n        }\r\n        if ($single.hasClass('collapse-bottom')) {\r\n          $single.css('margin-bottom', 0);\r\n        }\r\n        if ($single.hasClass('collapse-left')) {\r\n          $single.css('margin-left', 0);\r\n        }\r\n        if ($single.hasClass('collapse-right')) {\r\n          $single.css('margin-right', 0);\r\n        }\r\n      });\r\n      $single.data('frame.collapse', frame);\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.onMiddle = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('middle') && !$single.attr('middle.done')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerHeight() / 2;\r\n        var remove = $single.outerHeight() / 2;\r\n        $single.attr('middle.done', true).css('top', add - remove);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.onCenter = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('center') && !$single.attr('center.done')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerWidth() / 2;\r\n        var remove = $single.outerWidth() / 2;\r\n        $single.attr('center.done', true).css('left', add - remove);\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.getCurrents = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // get $currents on $group data\r\n    var $currents = $group.data('$currents.' + settings.namespace) || $([]);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.setCurrents = function($currents) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // set $currents on $group data\r\n    $group.data('$currents.' + settings.namespace, $currents);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.getIndexed = function($elements, $el, $g) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements and $el\r\n    if ($elements.is($group)) {\r\n      return $g;\r\n    } else if ($el.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $el.attr('data-group');\r\n      return $g.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      if (settings.$targets.has($g)) {\r\n        var index = object.getIndex($elements.not('[data-group]'), $el);\r\n        return $g.not('[data-group]').eq(index);\r\n      } else {\r\n        return $el;\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // add scrollbar padding\r\n    var w = object.scrollbarWidth($el);\r\n    w = $el.css('overflow-y') === 'hidden' ? 0 : w;\r\n    $el.addClass('xt-fixed').css('right', w).css('padding-right', w);\r\n  };\r\n  \r\n  Xt.prototype.offFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // remove scrollbar padding\r\n    $el.removeClass('xt-fixed').css('right', 0).css('padding-right', 0);\r\n  };\r\n  \r\n  Xt.prototype.getIndex = function($elements, $el) {\r\n    var index = 0;\r\n    if ($elements && $el) {\r\n      $elements.each( function(i) {\r\n        if ($(this).is($el.get(0))) {\r\n          index = i;\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    return index;\r\n  };\r\n  \r\n  Xt.prototype.scrollbarWidth = function($el) {\r\n    var parent, child, width;\r\n    if(width === undefined) {\r\n      parent = $('<div style=\"width:50px; height:50px; overflow:auto;\"><div /></div>').appendTo($el);\r\n      child = parent.children();\r\n      width = child.innerWidth() - child.height(99).innerWidth();\r\n      parent.remove();\r\n    }\r\n    return width;\r\n  };\r\n  \r\n  Xt.prototype.stringToMilliseconds = function(str) {\r\n    var num = parseFloat(str, 10);\r\n    var unit = str.match(/m?s/);\r\n    var ms;\r\n    if (unit) {\r\n      unit = unit[0];\r\n    }\r\n    switch (unit) {\r\n      case \"s\":\r\n        ms = num * 1000;\r\n        break;\r\n      case \"ms\":\r\n        ms = num;\r\n        break;\r\n      default:\r\n        ms = 0;\r\n        break;\r\n    }\r\n    return ms;\r\n  };\r\n  \r\n  //////////////////////\r\n  // ajax methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.ajax = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // do ajax only one time\r\n    if (settings.$targets.attr('data-xt-ajaxified') !== url) {\r\n      // ajax\r\n      $.ajax({\r\n        type: 'GET',\r\n        url: url,\r\n        success: function(data, textStatus, jqXHR) {\r\n          var $data = $('<div />').html(data);\r\n          // api\r\n          settings.$targets.trigger('ajax.success.xt', [object, $data]);\r\n          // populate\r\n          var $html = $data.find(settings.targets).contents();\r\n          title = !title ? $data.find('title').text() : title;\r\n          settings.$targets.html($html);\r\n          settings.$targets.attr('data-xt-ajaxified', url);\r\n          // reinit $elements and events\r\n          object.scope();\r\n          object.events();\r\n          // pushstate\r\n          object.pushstate(url, title);\r\n          // api\r\n          settings.$targets.trigger('ajax.populated.xt', [object, $data]);\r\n          settings.$targets.xtInitAll(true); // init xt\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n          console.error('ajax error url:' + url + ' ' + errorThrown);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.pushstate = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // also when on popstate\r\n    document.title = title;\r\n    // trigger on registered\r\n    settings.$elements.filter('[href=\"' + url + '\"]').each( function() {\r\n      object.on($(this), true, false, true);\r\n    });\r\n    // push object state\r\n    if (!history.state || !history.state.url || history.state.url !== url) {\r\n      history.pushState({'url': url, 'title': title}, title, url);\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils\r\n  //////////////////////\r\n  \r\n  // https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n  window.xtRequestAnimationFrame = ( function() {\r\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n  })();\r\n  window.xtCancelAnimationFrame = ( function(id) {\r\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || function(callback) {\r\n      window.clearTimeout(id);\r\n    };\r\n  })();\r\n\r\n  // http://stackoverflow.com/questions/13281897/how-to-preserve-order-of-items-added-to-jquery-matched-set\r\n  // push jquery group inside jquery query, use $([]) for empty query\r\n  // usage: $groups.pushElement($group)\r\n  $.fn.pushElement = function($el) {\r\n    Array.prototype.push.apply(this, $el);\r\n    return this;\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/2200494/jquery-trigger-event-when-an-group-is-removed-from-the-dom\r\n  // xtRemoved event fired when an group is removed from DOM\r\n  $.event.special.xtRemoved = {\r\n    remove: function(o) {\r\n      if (o.handler) { o.handler(); }\r\n    }\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/965816/what-jquery-selector-excludes-items-with-a-parent-that-matches-a-given-selector\r\n  // filter out $groups with :parents(.classname)\r\n  // usage: $groups.filter(':parents(.xt-ignore)')\r\n  $.expr[':'].parents = function(a, i, m){\r\n    return $(a).parents(m[3]).length < 1;\r\n  };\r\n  \r\n  // select all elements with position: fixed;\r\n  // usage: $('*:fixed')\r\n  $.expr[':'].fixed = function(a, i, m){\r\n    return $(a).css('position') === 'fixed';\r\n  };\r\n  \r\n  // select all elements with position: absolute;\r\n  // usage: $('*:absolute')\r\n  $.expr[':'].absolute = function(a, i, m){\r\n    return $(a).css('position') === 'absolute';\r\n  };\r\n  \r\n})(jQuery, window, document);"]}