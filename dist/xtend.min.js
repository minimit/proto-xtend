/*! xtend v0.0.6 (http://www.minimit.com/xtend/)
@copyright (c) 2016 - 2017 Riccardo Caroli
@license MIT (https://github.com/minimit/xtend/blob/master/LICENSE) */
!function(t,e,s,a){"use strict";var o=function(t,e,s){this.group=t,this.init(e,s)},n=function(t,e,s){o.call(this,t,e,s)};n.prototype=Object.create(o.prototype),n.prototype.constructor=n,t.fn.xtToggle=function(e){var s={name:"xt-toggle",elements:"> .button",targets:'[class^="toggle-"], [class*=" toggle-"]',class:"active",on:"click",min:0,max:1};return this.each(function(){t.data(this,s.name)||t.data(this,s.name,new n(this,s,e))})};var i=function(t,e,s){o.call(this,t,e,s)};i.prototype=Object.create(o.prototype),i.prototype.constructor=i,t.fn.xtDrop=function(e){var s={name:"xt-drop",elements:"> .button",targets:".drop",class:"active",on:"click",min:0,max:1};return this.each(function(){t.data(this,s.name)||t.data(this,s.name,new i(this,s,e))})};var r=function(t,e,s){o.call(this,t,e,s)};r.prototype=Object.create(o.prototype),r.prototype.constructor=r,t.fn.xtOverlay=function(e){var s={name:"xt-overlay",class:"active",on:"click",min:0,max:1,anim:".overlay-inner",backdrop:".overlay-inner"};return this.each(function(){t.data(this,s.name)||t.data(this,s.name,new r(this,s,e))})};var l=function(t,e,s){o.call(this,t,e,s)};l.prototype=Object.create(o.prototype),l.prototype.constructor=l,t.fn.xtScroll=function(e){var s={name:"xt-scroll",class:"active",on:"scroll",min:0,max:1};return this.each(function(){t.data(this,s.name)||t.data(this,s.name,new l(this,s,e))})};var c=function(t,e,s){o.call(this,t,e,s)};c.prototype=Object.create(o.prototype),c.prototype.constructor=c,t.fn.xtAjax=function(e){var s={name:"xt-ajax",class:"active",on:"click"};return this.each(function(){t.data(this,s.name)||t.data(this,s.name,new c(this,s,e))})},t.fn.xt={uid:0},t.fn.xtInitAll=function(e){return this.each(function(){t(this).is("[data-xt-toggle]")&&t(this).xtToggle(),t(this).is("[data-xt-drop]")&&t(this).xtDrop(),t(this).is("[data-xt-overlay]")&&t(this).xtOverlay(),t(this).is("[data-xt-scroll]")&&t(this).xtScroll(),t(this).is("[data-xt-ajax]")&&t(this).xtAjax(),e&&(t(this).find("[data-xt-toggle]").xtToggle(),t(this).find("[data-xt-drop]").xtDrop(),t(this).find("[data-xt-overlay]").xtOverlay(),t(this).find("[data-xt-scroll]").xtScroll(),t(this).find("[data-xt-ajax]").xtAjax())})},o.prototype.init=function(e,s){var a=this,o=this.settings={},n=(this.group,t(this.group));o=t.extend(o,e,s),t.extend(o,n.data(o.name));var i=o.class.split(" ");i.indexOf(e.class)===-1&&(o.class+=" "+e.class),a.defaultClass=e.class,(n.attr("debug")||""===n.attr("debug"))&&(o.debug=!0),a.scope(),a.namespace(),a.setup(),a.events()},o.prototype.namespace=function(){var e=this.settings,s=(this.group,t(this.group));e.targets&&e.targets.indexOf("#")!==-1?e.uid=e.targets:s.attr("id")?e.uid=s.attr("id"):e.uid="unique"+t.fn.xt.uid++,e.namespace=e.name+"_"+e.uid+"_"+e.class,s.attr("data-xt-namespace",e.namespace)},o.prototype.scope=function(){var e=this.settings,s=(this.group,t(this.group));if(e.$elements=null,e.elements&&(e.elements.indexOf("#")!==-1?e.$elements=t(e.elements).filter(":parents(.xt-ignore)"):e.$elements=s.find(e.elements).filter(":parents(.xt-ignore)")),e.$elements&&e.$elements.length||(e.$elements=s),e.$targets=null,"xt-scroll"===e.name){var a=s.parent(".xt-container.xt-position");a.length||(a=s.wrap(t('<div class="xt-container xt-position"></div>'))),e.$targets=a.find(".xt-clone.xt-ignore"),e.$targets.length||(e.$targets=s.clone().addClass("xt-clone xt-ignore").css("visibility","hidden"),t.each(e.$targets.data(),function(t){e.$targets.removeAttr("data-"+t)}),e.$targets.insertAfter(s)),"absolute"===e.mode?s.css("position","absolute"):"fixed"===e.mode&&s.css("position","fixed"),s.is(":fixed")||s.is(":absolute")?(s.css("z-index",70),e.$targets.css("display","block")):e.$targets.css("display","none")}else if(e.targets)if(e.targets.indexOf("#")!==-1)e.$targets=t(e.targets).filter(":parents(.xt-ignore)");else{var o=s.find(e.targets),n=o.find(e.targets);e.$targets=o.not(n).filter(":parents(.xt-ignore)")}},o.prototype.setup=function(){var a=this,o=this.settings;this.group,t(this.group);if("xt-ajax"===o.name){var n,i;if(history.state&&history.state.url)n=history.state.url;else{var r=e.location.href.split("#")[0];n=r.replace(/https?:\/\/[^\/]+/i,"")}o.$elements.each(function(){if(t(this).attr("href")===n)return i=t(this),!1}),i&&(o.$targets.attr("data-xt-ajaxified",n),a.pushstate(n,s.title),a.on(i),o.$targets.trigger("ajax.init.xt",[a]))}else{if(o.$elements){o.$elements.each(function(){t(this).hasClass(a.defaultClass)&&(t(this).removeClass(o.class),a.on(t(this)))});var l=a.getCurrents(),c=o.min-l.length;if(c)for(var f=0;f<c;f++)a.on(o.$elements.eq(f))}"xt-overlay"===o.name&&o.$targets.appendTo("body")}},o.prototype.events=function(){var e=this,s=this.settings;this.group,t(this.group);"xt-scroll"===s.name?e.eventsScroll():e.eventsDefault()},o.prototype.eventsDefault=function(){var s,a=this,o=this.settings,n=(this.group,t(this.group)),i=o.$elements.slice(0);"xt-drop"===o.name&&"mouseleave"===o.off&&(s=i,i=n),i&&(o.on&&i.off(o.on).on(o.on,function(e){var n=s?s:t(this);a.toggle(n),"xt-ajax"===o.name&&e.preventDefault()}),o.off&&i.off(o.off).on(o.off,function(e){var o=s?s:t(this);a.toggle(o)}),"xt-drop"===o.name&&o.$targets.find("[href], [data-xt-reset]").off("click.xt.href").on("click.xt.href",function(t){a.off(i)}),i.off("xtRemoved").on("xtRemoved",function(e){"xt-overlay"===o.name&&(o.$targets.remove(),a.off(t(this),!1,!0,!0))}),i.off("on.xt").on("on.xt",function(e,s,o){o||e.target!==this||a.on(t(this),!0)}),i.off("off.xt").on("off.xt",function(e,s,o){o||e.target!==this||a.off(t(this),!0)})),"xt-ajax"===o.name&&t(e).off("popstate.xt."+o.namespace).on("popstate.xt."+o.namespace,function(t){history.state&&history.state.url&&a.ajax(history.state.url,history.state.title)})},o.prototype.eventsScroll=function(){var s=this,o=this.settings,n=(this.group,t(this.group)),i=o.$targets.parent(".xt-container.xt-position"),r="resize.xt."+o.namespace;t(e).off(r),t(e).on(r,function(t){i.css("width",i.parent().width())}),t(e).trigger(r);var l="scroll.xt."+o.namespace;t(e).off(l),t(e).on(l,function(r){var l=t(this).scrollTop();if(l!==o.scrollTopOld){var c=i.offset().top,f=1/0;o.top!==a&&(c=isNaN(parseFloat(o.top))?t(o.top).offset().top:o.top),o.bottom!==a&&(isNaN(parseFloat(o.bottom))?t(o.bottom).length&&(f=t(o.bottom).offset().top):f=o.bottom),l>=c&&l<f?n.hasClass(s.defaultClass)||(e.xtRequestAnimationFrame(function(){s.on(n)}),n.removeClass("scroll-off-top scroll-off-bottom"),o.scrollTopOld>l?(n.removeClass("scroll-on-top"),e.xtRequestAnimationFrame(function(){n.addClass("scroll-on-bottom")})):(n.removeClass("scroll-on-bottom"),e.xtRequestAnimationFrame(function(){n.addClass("scroll-on-top")}))):n.hasClass(s.defaultClass)&&(e.xtRequestAnimationFrame(function(){s.off(n)}),n.removeClass("scroll-on-top scroll-on-bottom"),o.scrollTopOld>l?(n.removeClass("scroll-off-top"),e.xtRequestAnimationFrame(function(){n.addClass("scroll-off-bottom")})):(n.removeClass("scroll-off-bottom"),e.xtRequestAnimationFrame(function(){n.addClass("scroll-off-top")})))}o.scrollTopOld=l}),t(e).trigger(l),n.on("xtRemoved",function(s){t(e).off(r),t(e).off(l)})},o.prototype.toggle=function(e,s,a,o){var n=this;this.settings,this.group,t(this.group);e.hasClass(n.defaultClass)?n.off(e,s,a,o):n.on(e,s,a,o)},o.prototype.on=function(s,a,o,n){var i=this,r=this.settings,l=(this.group,t(this.group));if(s&&!s.hasClass(i.defaultClass)){var c=i.getIndexed(r.$elements,s,r.$elements);i.onAfter(c,a);var f=i.getCurrents();if(f=i.setCurrents(f.pushElement(s)),o||e.xtRequestAnimationFrame(function(){var e=t('[data-xt-namespace="'+r.namespace+'"]').filter(":parents(.xt-ignore)").not(l);e.each(function(){var e=t(this).data(r.name);e.on(t(this),!0,!0)})}),"xt-ajax"===r.name)i.checkDisabled(s,"disable"),i.ajax(s.attr("href"));else if(i.checkDisabled(s),!o&&f.length>r.max){var p=f.first();i.off(p)}}if(r.$targets){var d=i.getIndexed(r.$elements,s,r.$targets);if(!d.hasClass(i.defaultClass)&&(i.onAfter(d,a),"xt-overlay"===r.name)){i.onFixed(t("html, .xt-backdrop"));var h=t("html");h.hasClass(i.defaultClass)||h.addClass(r.class)}}},o.prototype.off=function(s,a,o,n){var i=this,r=this.settings,l=(this.group,t(this.group));if(s){var c=i.getCurrents();if(s.hasClass(i.defaultClass)){if(o||"xt-ajax"===r.name||c.length>r.min){var f=i.getIndexed(r.$elements,s,r.$elements);i.offAfter(f,a),c=s.attr("data-group")?i.setCurrents(c.not("[data-group="+s.attr("data-group")+"]")):i.setCurrents(c.not(f)),o||e.xtRequestAnimationFrame(function(){var e=t('[data-xt-namespace="'+r.namespace+'"]').filter(":parents(.xt-ignore)").not(l);e.each(function(){var e=t(this).data(r.name);e.off(t(this),!0,!0)})})}o||"xt-ajax"===r.name?i.checkDisabled(s,"enable"):i.checkDisabled(s)}}if(r.$targets){var p=i.getIndexed(r.$elements,s,r.$targets);if(p.hasClass(i.defaultClass)&&(i.offAfter(p,a),"xt-overlay"===r.name)){i.offFixed(t(".xt-fixed-vertical"));var d=t("html");d.hasClass(i.defaultClass)&&d.removeClass(r.class)}}},o.prototype.checkDisabled=function(e,s){var a=this,o=this.settings,n=(this.group,t(this.group),"disabled");if("click"===o.on)if(s)"disable"===s?e.attr(n,n):"enable"===s&&e.removeAttr(n);else{var i,r=a.getCurrents(),l=o.min;r.length===l?(i=!0,r.attr(n,n)):r.removeAttr(n),r.filter("[data-group]").each(function(){var e=t(this).attr("data-group"),s=o.$elements.not(this).filter('[data-group="'+e+'"]');i?s.attr(n,n):s.removeAttr(n)})}},o.prototype.onAfter=function(a,o){var n=this,i=this.settings,r=(this.group,t(this.group)),l=a.slice(0),c=l;i.anim&&(c=l.find(i.anim),l=l.pushElement(c)),l.addClass(i.class).removeClass("fade-out"),n.animationDelayClear(l,"anim"),n.animationMultiple(l,o,n.onDone,"fade-in"),n.onBackdrop(l,o),e.xtRequestAnimationFrame(function(){n.onCollapse(l,o)}),n.onMiddle(l,o),n.onCenter(l,o),"xt-drop"===i.name&&t(s).off("click.xt."+i.namespace).on("click.xt."+i.namespace,function(e){var s=t(e.target);r.is(s)||r.has(s).length||n.off(i.$elements,!0,!0,!0)}),"xt-overlay"===i.name&&l.find(".overlay-close").off("click.xt."+i.namespace).on("click.xt."+i.namespace,function(t){n.off(i.$elements,!0,!1,!0)}),o||l.trigger("on.xt",[n,!0])},o.prototype.onDone=function(e,s){var a=this;this.settings,this.group,t(this.group);e.hasClass("collapse-height")&&e.css("height","auto"),e.hasClass("collapse-width")&&e.css("width","auto"),s||e.trigger("fadein.xt.done",[a,!0])},o.prototype.offAfter=function(a,o){var n=this,i=this.settings,r=(this.group,t(this.group),a.slice(0)),l=r;i.anim&&(l=r.find(i.anim),r=r.pushElement(l)),r.removeClass(i.class).removeClass("fade-in").addClass("fade-out"),n.animationDelayClear(r,"anim"),n.animationMultiple(r,o,n.offDone),n.offBackdrop(r,o),e.xtRequestAnimationFrame(function(){n.offCollapse(r,o)}),"xt-drop"===i.name&&t(s).off("click.xt."+i.namespace),o||r.trigger("off.xt",[n,!0])},o.prototype.offDone=function(t,e){var s=this;this.settings;t.removeClass("fade-out"),t.hasClass("collapse-height")&&t.css("height","auto"),t.hasClass("collapse-width")&&t.css("width","auto"),e||t.trigger("fadeout.xt",[s,!0])},o.prototype.animationMultiple=function(s,a,o,n){var i=this,r=0;s.each(function(){var l=t(this);e.xtCancelAnimationFrame(l.data("frame.timeout"));var c=e.xtRequestAnimationFrame(function(){n&&l.addClass(n),i.animationDelay(l,"anim",function(){return!(++r<s.length)&&void o.apply(i,[s,a])})});l.data("frame.timeout",c)})},o.prototype.animationDelay=function(t,s,o){var n=this,i=this.settings,r=i.timing,l=t.css("transitionDuration"),c=t.css("animationDuration");if(i.timing!==a||l===a&&c===a||"0s"===l&&"0s"===c||(l=n.stringToMilliseconds(l),c=n.stringToMilliseconds(c),r=Math.max(l,c)),r){var f=e.setTimeout(function(t){o()},r);t.data("fade.timeout."+s,f)}else o()},o.prototype.animationDelayClear=function(t,e){clearTimeout(t.data("fade.timeout."+e)),t.off("transitionend.xt."+e),clearTimeout(t.data("fade.timeout."+e)),t.off("transitionend.xt."+e)},o.prototype.onBackdrop=function(s,a){var o=this,n=this.settings,i=s.find(n.backdrop),r=t([]);if(i.length?r=i.parent():s.hasClass("backdrop")&&(r=s.parent()),r.length){var l=r.find("> .xt-backdrop");l.length||(l=t('<div class="xt-backdrop xt-ignore"></div>').appendTo(r)),o.animationDelayClear(l,"backdrop"),e.xtCancelAnimationFrame(l.data("frame.timeout"));var c=e.xtRequestAnimationFrame(function(){l.addClass("fade-in"),l.removeClass("fade-out")});l.data("frame.timeout",c);var f="click.backdrop.xt";"mouseleave"===n.off&&(f="mouseenter.backdrop.xt"),l.off(f).on(f,function(t){o.off(n.$elements,!0,!1,!0)}),i.length&&s.off(f).on(f,function(e){t(e.target).is(i)&&o.off(n.$elements,!0,!1,!0)})}},o.prototype.offBackdrop=function(t,s){var a=this,o=this.settings,n=t.hasClass("backdrop")?t.parent():t.find(o.backdrop).parent();if(n.length){var i=n.find("> .xt-backdrop");if(i.length){i.removeClass("fade-in"),a.animationDelayClear(i,"backdrop"),e.xtCancelAnimationFrame(i.data("frame.timeout"));var r=e.xtRequestAnimationFrame(function(){i.addClass("fade-out"),a.animationDelay(i,"backdrop",function(){i.removeClass("fade-out").remove()})});i.data("frame.timeout",r),i.off("click.backdrop.xt"),t.off("click.backdrop.xt")}}},o.prototype.onCollapse=function(s){s.each(function(){var s=t(this);if(s.hasClass("collapse-height")){s.addClass("no-transition").css("height","").css("padding-top","").css("padding-bottom","");var a=s.outerHeight(),o=s.css("padding-top"),n=s.css("padding-bottom");s.css("height",0).css("padding-top",0).css("padding-bottom",0)}if(s.hasClass("collapse-width")){s.addClass("no-transition").css("width","").css("padding-left","").css("padding-right","");var i=s.outerWidth(),r=s.css("padding-left"),l=s.css("padding-right");s.css("width",0).css("padding-left",0).css("padding-right",0)}e.xtRequestAnimationFrame(function(){s.hasClass("collapse-height")&&s.removeClass("no-transition").css("height",a).css("padding-top",o).css("padding-bottom",n),s.hasClass("collapse-width")&&s.removeClass("no-transition").css("width",i).css("padding-left",r).css("padding-right",l),s.hasClass("collapse-top")&&s.css("margin-top",-a),s.hasClass("collapse-bottom")&&s.css("margin-bottom",-a),s.hasClass("collapse-left")&&s.css("margin-left",-i),s.hasClass("collapse-right")&&s.css("margin-right",-i)})})},o.prototype.offCollapse=function(s){s.each(function(){var s=t(this);if(s.hasClass("collapse-height")){s.addClass("no-transition").css("height","").css("padding-top","").css("padding-bottom","");var a=s.outerHeight(),o=s.css("padding-top"),n=s.css("padding-bottom");s.css("height",a).css("padding-top",o).css("padding-bottom",n)}if(s.hasClass("collapse-width")){s.addClass("no-transition").css("width","").css("padding-left","").css("padding-right","");var i=s.outerWidth(),r=s.css("padding-left"),l=s.css("padding-right");s.css("width",i).css("padding-left",r).css("padding-right",l)}e.xtRequestAnimationFrame(function(){s.hasClass("collapse-height")&&s.removeClass("no-transition").css("height",0).css("padding-top",0).css("padding-bottom",0),s.hasClass("collapse-width")&&s.removeClass("no-transition").css("width",0).css("padding-left",0).css("padding-right",0),s.hasClass("collapse-top")&&s.css("margin-top",0),s.hasClass("collapse-bottom")&&s.css("margin-bottom",0),s.hasClass("collapse-left")&&s.css("margin-left",0),s.hasClass("collapse-right")&&s.css("margin-right",0)})})},o.prototype.onMiddle=function(e){e.each(function(){var e=t(this);if(e.hasClass("middle")&&!e.attr("middle.done")){var s=e.parent(),a=s.outerHeight()/2,o=e.outerHeight()/2;e.attr("middle.done",!0).css("top",a-o)}})},o.prototype.onCenter=function(e){e.each(function(){var e=t(this);if(e.hasClass("center")&&!e.attr("center.done")){var s=e.parent(),a=s.outerWidth()/2,o=e.outerWidth()/2;e.attr("center.done",!0).css("left",a-o)}})},o.prototype.getCurrents=function(){var e=this.settings,s=(this.group,t(this.group)),a=s.data("$currents."+e.namespace)||t([]);return a},o.prototype.setCurrents=function(e){var s=this.settings,a=(this.group,t(this.group));return a.data("$currents."+s.namespace,e),e},o.prototype.getIndexed=function(e,s,a){var o=this,n=this.settings,i=(this.group,t(this.group));if(e.is(i))return a;if(s.is("[data-group]")){var r=s.attr("data-group");return a.filter('[data-group="'+r+'"]')}if(n.$targets.has(a)){var l=o.getIndex(e.not("[data-group]"),s);return a.not("[data-group]").eq(l)}return s},o.prototype.onFixed=function(e){var s=this,a=(this.settings,this.group,t(this.group),s.scrollbarWidth(e));a="hidden"===e.css("overflow-y")?0:a,e.addClass("xt-fixed-vertical").css("padding-right",a).css("background-clip","content-box")},o.prototype.offFixed=function(e){this.settings,this.group,t(this.group);e.removeClass("xt-fixed-vertical").css("padding-right",0).css("background-clip","")},o.prototype.getIndex=function(e,s){var a=0;return e&&s&&e.each(function(e){if(t(this).is(s.get(0)))return a=e,!1}),a},o.prototype.scrollbarWidth=function(e){var s,o,n;return n===a&&(s=t('<div style="width:50px; height:50px; overflow:auto;"><div /></div>').appendTo(e),o=s.children(),n=o.innerWidth()-o.height(99).innerWidth(),s.remove()),n},o.prototype.stringToMilliseconds=function(t){var e,s=parseFloat(t,10),a=t.match(/m?s/);switch(a&&(a=a[0]),a){case"s":e=1e3*s;break;case"ms":e=s;break;default:e=0}return e},o.prototype.ajax=function(e,s){var a=this,o=this.settings;this.group,t(this.group);o.$targets.attr("data-xt-ajaxified")!==e&&t.ajax({type:"GET",url:e,success:function(n,i,r){var l=t("<div />").html(n);o.$targets.trigger("ajax.success.xt",[a,l]);var c=l.find(o.targets).contents();s=s?s:l.find("title").text(),o.$targets.html(c),o.$targets.attr("data-xt-ajaxified",e),a.scope(),a.events(),a.pushstate(e,s),o.$targets.trigger("ajax.populated.xt",[a,l]),o.$targets.xtInitAll(!0)},error:function(t,s,a){console.error("ajax error url:"+e+" "+a)}})},o.prototype.pushstate=function(e,a){var o=this,n=this.settings;this.group,t(this.group);s.title=a,n.$elements.filter('[href="'+e+'"]').each(function(){o.on(t(this),!0,!1,!0)}),history.state&&history.state.url&&history.state.url===e||history.pushState({url:e,title:a},a,e)},e.xtRequestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),e.xtCancelAnimationFrame=function(t){return e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.mozCancelAnimationFrame||function(s){e.clearTimeout(t)}}(),t.fn.pushElement=function(t){return Array.prototype.push.apply(this,t),this},t.event.special.xtRemoved={remove:function(t){t.handler&&t.handler()}},t.expr[":"].parents=function(e,s,a){return t(e).parents(a[3]).length<1},t.expr[":"].fixed=function(e,s,a){return"fixed"===t(e).css("position")},t.expr[":"].absolute=function(e,s,a){return"absolute"===t(e).css("position")}}(jQuery,window,document);
//# sourceMappingURL=xtend.min.js.map
