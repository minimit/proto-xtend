{"version":3,"sources":["xt.js"],"names":["$","window","document","undefined","Xt","group","defaults","options","this","init","XtToggle","call","prototype","Object","create","constructor","fn","xtToggle","name","elements","targets","class","on","off","min","max","each","data","XtOverlay","xtOverlay","XtScroll","xtScroll","XtAjax","xtAjax","url","xt","uid","xtInitAll","deep","is","find","object","settings","$group","extend","arr","split","indexOf","defaultClass","attr","debug","scope","namespace","setup","events","$elements","filter","wrap","$targets","clone","addClass","css","i","removeAttr","insertAfter","mode","found","history","state","loc","location","href","replace","pushstate","title","show","trigger","hasClass","removeClass","$currents","getCurrents","todo","length","eq","eventsScroll","eventsDefault","e","toggle","preventDefault","hide","obj","triggered","target","ajax","$container","parent","resizeNamespace","width","scrollNamespace","scrollTop","top","offset","bottom","Infinity","isNaN","parseFloat","xtRequestAnimationFrame","scrollTopOld","$element","isSync","skipState","getElements","showAfter","setCurrents","pushElement","$linked","not","checkDisabled","$first","first","$target","getTargets","onFixed","$additional","hideAfter","get","offFixed","one","$el","clearTimeout","xtCancelAnimationFrame","frame","timeIn","showDone","timeout","setTimeout","onWidth","onHeight","onMiddle","onCenter","timeOut","hideDone","offWidth","offHeight","removeWrap","addWrapOutside","$outside","addWrapInside","$inside","wrapInner","unwrap","contents","w","outerWidth","parents","h","outerHeight","add","remove","g","$g","index","getIndex","scrollbarWidth","force","str","$dataGroup","child","appendTo","children","innerWidth","height","type","success","textStatus","jqXHR","$data","html","$html","text","error","errorThrown","console","pushState","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","Array","push","apply","event","special","xtRemoved","o","handler","expr","a","m","fixed","absolute","jQuery"],"mappings":"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","file":"xt.min.js","sourcesContent":["/*! xtend v0.0.6 (http://www.minimit.com/xtend/)\n@copyright (c) 2016 - 2017 Riccardo Caroli\n@license MIT (https://github.com/minimit/xtend/blob/master/LICENSE) */\r\n\r\n;( function($, window, document, undefined) {\r\n\r\n  'use strict';\r\n  \r\n  //////////////////////\r\n  // constructor\r\n  //////////////////////\r\n\r\n  var Xt = function(group, defaults, options) {\r\n    this.group = group;\r\n    this.init(defaults, options);\r\n  };\r\n  \r\n  var XtToggle = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtToggle.prototype = Object.create(Xt.prototype);\r\n  XtToggle.prototype.constructor = XtToggle;\r\n  $.fn.xtToggle = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-toggle',\r\n      'elements': null,\r\n      'targets': '.toggle-flex, .toggle-block, .toggle-inline-block, .toggle-inline, .toggle-none',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'off': null,\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtToggle(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtOverlay = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtOverlay.prototype = Object.create(Xt.prototype);\r\n  XtOverlay.prototype.constructor = XtOverlay;\r\n  $.fn.xtOverlay = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-overlay',\r\n      'targets': '',\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtOverlay(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtScroll = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtScroll.prototype = Object.create(Xt.prototype);\r\n  XtScroll.prototype.constructor = XtScroll;\r\n  $.fn.xtScroll = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-scroll',\r\n      'on': 'scroll',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtScroll(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtAjax = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtAjax.prototype = Object.create(Xt.prototype);\r\n  XtAjax.prototype.constructor = XtAjax;\r\n  $.fn.xtAjax = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-ajax',\r\n      'targets': null,\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'url': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtAjax(this, defaults, options));\r\n      }\r\n    });\r\n  };\n  \n  \r\n  //////////////////////\r\n  // init\r\n  //////////////////////\r\n  \r\n  $.fn.xt = {\r\n    'uid': 0\r\n  };\r\n  \r\n  $.fn.xtInitAll = function(deep) {\r\n    return this.each( function() {\r\n      if ($(this).is('[data-xt-toggle]')) {\r\n        $(this).xtToggle();\r\n      }\r\n      if ($(this).is('[data-xt-overlay]')) {\r\n        $(this).xtOverlay();\r\n      }\r\n      if ($(this).is('[data-xt-scroll]')) {\r\n        $(this).xtScroll();\r\n      }\r\n      if ($(this).is('[data-xt-ajax]')) {\r\n        $(this).xtAjax();\r\n      }\r\n      if (deep) {\r\n        $(this).find('[data-xt-toggle]').xtToggle();\r\n        $(this).find('[data-xt-overlay]').xtOverlay();\r\n        $(this).find('[data-xt-scroll]').xtScroll();\r\n        $(this).find('[data-xt-ajax]').xtAjax();\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // init methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.init = function(defaults, options) {\r\n    var object = this;\r\n    var settings = this.settings = {};\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // override with js settings\r\n    settings = $.extend(settings, defaults, options);\r\n    // override with html settings\r\n    $.extend(settings, $group.data(settings.name));\r\n    // defaults.class\r\n    var arr = settings.class.split(' ');\r\n    if (arr.indexOf(defaults.class) === -1) {\r\n      settings.class += ' ' + defaults.class;\r\n    }\r\n    object.defaultClass = defaults.class;\r\n    // debug\r\n    if ($group.attr('debug') || $group.attr('debug') === '') {\r\n      settings.debug = true;\r\n    }\r\n    // setup\r\n    object.scope();\r\n    object.namespace();\r\n    object.setup();\r\n    object.events();\r\n  };\r\n  \r\n  Xt.prototype.namespace = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // namespace\r\n    if (settings.targets && settings.targets.indexOf('#') !== -1) {\r\n      settings.uid = settings.targets;\r\n    } else if($group.attr('id')) {\r\n      settings.uid = $group.attr('id');\r\n    } else {\r\n      settings.uid = 'unique' + $.fn.xt.uid++;\r\n    }\r\n    settings.namespace = settings.name + '_' + settings.uid + '_' + settings.class;\r\n    $group.attr('data-xt-namespace', settings.namespace);\r\n  };\r\n  \r\n  Xt.prototype.scope = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements\r\n    if (settings.elements) {\r\n      if (settings.elements.indexOf('#') !== -1) {\r\n        settings.$elements = $(settings.elements).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$elements = $group.find(settings.elements).filter(':parents(.xt-ignore)');\r\n        /*\r\n        if (!settings.$elements.length) {\r\n          settings.$elements = $group.parent().find(settings.elements).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    } else {\r\n      settings.$elements = $group;\r\n    }\r\n    // $targets\r\n    if (settings.name === 'xt-scroll') {\r\n      // xt-scroll $targets\r\n      $group.wrap($('<div class=\"wrap-container wrap-position\"></div>'));\r\n      settings.$targets = $group.clone().addClass('xt-clone xt-ignore').css('visibility', 'hidden');\r\n      $.each(settings.$targets.data(), function(i) {\r\n        settings.$targets.removeAttr(\"data-\" + i);\r\n      });\r\n      settings.$targets.insertAfter($group);\r\n      // stuff\r\n      if (settings.mode === 'absolute') {\r\n        $group.css('position', 'absolute');\r\n      } else if (settings.mode === 'fixed') {\r\n        $group.css('position', 'fixed');\r\n      }\r\n      if ($group.is(':fixed') || $group.is(':absolute')) {\r\n        $group.css('z-index', 70);\r\n        settings.$targets.css('display', 'block');\r\n      } else {\r\n        settings.$targets.css('display', 'none');\r\n      }\r\n    } else if(settings.targets) {\r\n      if (settings.targets.indexOf('#') !== -1) {\r\n        settings.$targets = $(settings.targets).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$targets = $group.find(settings.targets).filter(':parents(.xt-ignore)').filter(':parents(' + settings.targets + ')');\r\n        /*\r\n        if (!settings.$targets.length) {\r\n          settings.$targets = $group.parent().find(settings.targets).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.setup = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // initial activations\r\n    if (settings.name === 'xt-ajax') {\r\n      var url;\r\n      var found;\r\n      if (history.state && history.state.url) {\r\n        // detect from history\r\n        url = history.state.url;\r\n      } else {\r\n        // detect from url location (absolute url without domain name)\r\n        var loc = window.location.href.split('#')[0];\r\n        url = loc.replace(/https?:\\/\\/[^\\/]+/i, '');\r\n      }\r\n      settings.$elements.each( function() {\r\n        if ($(this).attr('href') === url) {\r\n          found = $(this);\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        // set ajaxified\r\n        settings.$targets.attr('data-xt-ajaxified', url);\r\n        object.pushstate(url, document.title);\r\n        // then show\r\n        object.show(found);\r\n        // api\r\n        settings.$targets.trigger('ajax.init.xt', [object]);\r\n      }\r\n    } else {\r\n      // automatic reinit if has class\r\n      if (settings.$elements) {\r\n        settings.$elements.each( function() {\r\n          if ($(this).hasClass(object.defaultClass)) {\r\n            $(this).removeClass(settings.class);\r\n            object.show($(this));\r\n          }\r\n        });\r\n        // automatic init if $currents < min\r\n        var $currents = object.getCurrents();\r\n        var todo = settings.min - $currents.length;\r\n        if (todo) {\r\n          for (var i = 0; i < todo; i++) {\r\n            object.show(settings.$elements.eq(i));\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.events = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // events\r\n    if (settings.name === 'xt-scroll') {\r\n      object.eventsScroll();\r\n    } else {\r\n      object.eventsDefault();\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.eventsDefault = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements events\r\n    if (settings.$elements) {\r\n      // on off events\r\n      if (settings.on) {\r\n        settings.$elements.off(settings.on).on(settings.on, function(e) {\r\n          object.toggle($(this));\r\n          if (settings.name === 'xt-ajax') {\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n      if (settings.off) {\r\n        settings.$elements.off(settings.off).on(settings.off, function(e) {\r\n          object.toggle($(this));\r\n        });\r\n      }\r\n      // remove html classes\r\n      settings.$elements.on('xtRemoved', function(e) {\r\n        if (settings.name === 'xt-overlay') { // also this $group.is('[data-xt-reset]')\r\n          object.hide($(this), false, true, true);\r\n        }\r\n      });\r\n      // api\r\n      settings.$elements.on('show.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.show($(this), true);\r\n        }\r\n      });\r\n      settings.$elements.on('hide.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.hide($(this), true);\r\n        }\r\n      });\r\n    }\r\n    // ajax events\r\n    if (settings.name === 'xt-ajax') {\r\n      // popstate\r\n      $(window).off('popstate.xt.' + settings.namespace);\r\n      $(window).on('popstate.xt.' + settings.namespace, function(e) {\r\n        if (history.state && history.state.url) {\r\n          object.ajax(history.state.url, history.state.title);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // events methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.eventsScroll = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // resize\r\n    var $container = settings.$targets.parent('.wrap-container.wrap-position');\r\n    var resizeNamespace = 'resize.xt.' + settings.namespace;\r\n    $(window).off(resizeNamespace);\r\n    $(window).on(resizeNamespace, function(e) {\r\n      $container.css('width', $container.parent().width()); // fix fixed width\r\n    });\r\n    $(window).trigger(resizeNamespace);\r\n    // scroll\r\n    var scrollNamespace = 'scroll.xt.' + settings.namespace;\r\n    $(window).off(scrollNamespace);\r\n    $(window).on(scrollNamespace, function(e) {\r\n      var scrollTop = $(this).scrollTop();\r\n      // show or hide\r\n      var top = $container.offset().top;\r\n      var bottom = Infinity;\r\n      if (settings.top) {\r\n        if (!isNaN(parseFloat(settings.top))) {\r\n          top = settings.top;\r\n        } else {\r\n          top = $(settings.top).offset().top;\r\n        }\r\n      }\r\n      if (settings.bottom) {\r\n        if (!isNaN(parseFloat(settings.bottom))) {\r\n          bottom = settings.bottom;\r\n        } else if ($(settings.bottom).length) {\r\n          bottom = $(settings.bottom).offset().top;\r\n        }\r\n      }\r\n      if (scrollTop > top && scrollTop < bottom) {\r\n        if (!$group.hasClass(object.defaultClass)) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            object.show($group);\r\n          });\r\n          // direction classes\r\n          $group.removeClass('scroll-off-top scroll-off-bottom');\r\n          if (settings.scrollTopOld > scrollTop) {\r\n            $group.removeClass('scroll-on-top');\r\n            window.xtRequestAnimationFrame( function() {\r\n              $group.addClass('scroll-on-bottom');\r\n            });\r\n          } else {\r\n            $group.removeClass('scroll-on-bottom');\r\n            window.xtRequestAnimationFrame( function() {\r\n              $group.addClass('scroll-on-top');\r\n            });\r\n          }\r\n        }\r\n      } else {\r\n        if ($group.hasClass(object.defaultClass)) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            object.hide($group);\r\n          });\r\n          // direction classes\r\n          $group.removeClass('scroll-on-top scroll-on-bottom');\r\n          if (settings.scrollTopOld > scrollTop) {\r\n            $group.removeClass('scroll-off-top');\r\n            window.xtRequestAnimationFrame( function() {\r\n              $group.addClass('scroll-off-bottom');\r\n            });\r\n          } else {\r\n            $group.removeClass('scroll-off-bottom');\r\n            window.xtRequestAnimationFrame( function() {\r\n              $group.addClass('scroll-off-top');\r\n            });\r\n          }\r\n        }\r\n      }\r\n      settings.scrollTopOld = scrollTop;\r\n    });\r\n    $(window).trigger(scrollNamespace);\r\n    // remove window event on remove\r\n    $group.on('xtRemoved', function(e) {\r\n      $(window).off(resizeNamespace);\r\n      $(window).off(scrollNamespace);\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // toggle methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.toggle = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // choose based on state\r\n    if (!$element.hasClass(object.defaultClass)) {\r\n      object.show($element, triggered, isSync, skipState);\r\n    } else {\r\n      object.hide($element, triggered, isSync, skipState);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.show = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // activate $element\r\n    if ($element) {\r\n      // show and add in $currents\r\n      if (!$element.hasClass(object.defaultClass)) {\r\n        var $elements = object.getElements(settings.$elements, $element);\r\n        object.showAfter($elements, triggered);\r\n        var $currents = object.getCurrents();\r\n        $currents = object.setCurrents($currents.pushElement($element));\r\n        // linked\r\n        if (!isSync) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            var $linked = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n            $linked.each( function() {\r\n              var xt = $(this).data(settings.name);\r\n              xt.show($(this), true, true);\r\n            });\r\n          });\r\n        }\r\n        // control over activated\r\n        if (settings.name === 'xt-ajax') {\r\n          // [disabled]\r\n          object.checkDisabled($element, 'disable');\r\n          // ajax\r\n          object.ajax($element.attr('href'));\r\n        } else {\r\n          // [disabled]\r\n          object.checkDisabled($element);\r\n          // hide max or differents\r\n          if (!isSync) {\r\n            if ($currents.length > settings.max) {\r\n              var $first = $currents.first();\r\n              object.hide($first);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // activate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getTargets(settings.$elements, $element, settings.$targets);\r\n      if (!$target.hasClass(object.defaultClass)) {\r\n        object.showAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // add paddings\r\n          object.onFixed($('html')); // $('*:fixed').not($target).add('html')\r\n          // activate $additional with $group time\r\n          var $additional = $('html');\r\n          if (!$additional.hasClass(object.defaultClass)) {\r\n            $additional.addClass(settings.class);\r\n            window.xtRequestAnimationFrame( function() {\r\n              $additional.addClass('fadein');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hide = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // deactivate $element\r\n    if ($element) {\r\n      var $currents = object.getCurrents();\r\n      if ($element.hasClass(object.defaultClass)) {\r\n        if (isSync || settings.name === 'xt-ajax' || $currents.length > settings.min) {\r\n          var $elements = object.getElements(settings.$elements, $element);\r\n          object.hideAfter($elements, triggered);\r\n          if ($element.attr('data-group')) {\r\n            $currents = object.setCurrents($currents.not('[data-group=' + $element.attr('data-group') + ']'));\r\n          } else {\r\n            $currents = object.setCurrents($currents.not($element.get(0)));\r\n          }\r\n          // linked\r\n          if (!isSync) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              var $linked = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n              $linked.each( function() {\r\n                var xt = $(this).data(settings.name);\r\n                xt.hide($(this), true, true);\r\n              });\r\n            });\r\n          }\r\n        }\r\n        // [disabled]\r\n        if (isSync || settings.name === 'xt-ajax') {\r\n          object.checkDisabled($element, 'enable');\r\n        } else {\r\n          object.checkDisabled($element);\r\n        }\r\n      }\r\n    }\r\n    // deactivate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getTargets(settings.$elements, $element, settings.$targets);\r\n      if ($target.hasClass(object.defaultClass)) {\r\n        object.hideAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // remove paddings\r\n          object.offFixed($('html')); // $('.xt-fixed-vertical').add('html')\r\n          // deactivate $additional with $group time\r\n          var $additional = $('html');\r\n          if ($additional.hasClass(object.defaultClass)) {\r\n            $additional.removeClass(settings.class);\r\n            $additional.removeClass('fadein');\r\n            $additional.addClass('fadeout');\r\n            settings.$targets.off('hide.xt.done.additional').one('hide.xt.done.additional', function() {\r\n              $additional.removeClass('fadeout');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // on and off methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.showAfter = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // on\r\n    $el.addClass(settings.class);\r\n    $el.removeClass('fadeout');\r\n    clearTimeout($el.data('fade.timeout'));\r\n    $el.off('transitionend.xt');\r\n    window.xtCancelAnimationFrame($el.data('frame.timeout'));\r\n    // fadein\r\n    var frame = window.xtRequestAnimationFrame( function() {\r\n      $el.addClass('fadein');\r\n      if (settings.timeIn === undefined && $el.css('transitionDuration') !== '0s') {\r\n        $el.on('transitionend.xt', function(e) {\r\n          object.showDone($el);\r\n        });\r\n      } else if (settings.timeIn) {\r\n        var timeout = window.setTimeout( function(object, $el) {\r\n          object.showDone($el, triggered);\r\n        }, settings.timeIn, object, $el);\r\n        $el.data('fade.timeout', timeout);\r\n      } else {\r\n        object.showDone($el, triggered);\r\n      }\r\n    });\r\n    $el.data('frame.timeout', frame);\r\n    // animations\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    object.onMiddle($el, triggered);\r\n    object.onCenter($el, triggered);\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('show.xt', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.showDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // when animation is done\r\n    // a-width and a-height\r\n    if ($el.hasClass('a-height')) {\r\n      $el.css('height', 'auto');\r\n    }\r\n    if ($el.hasClass('a-width')) {\r\n      $el.css('width', 'auto');\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('show.xt.done', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hideAfter = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // off\r\n    $el.removeClass(settings.class);\r\n    $el.removeClass('fadein');\r\n    $el.addClass('fadeout');\r\n    clearTimeout($el.data('fade.timeout'));\r\n    $el.off('transitionend.xt');\r\n    // fadeout\r\n    window.xtCancelAnimationFrame($el.data('frame.timeout'));\r\n    var frame = window.xtRequestAnimationFrame( function() {\r\n      if (settings.timeOut === undefined && $el.css('transitionDuration') !== '0s') {\r\n        $el.on('transitionend.xt', function(e) {\r\n          object.hideDone($el);\r\n        });\r\n      } else if (settings.timeOut) {\r\n        var timeout = window.setTimeout( function(object, $el) {\r\n          object.hideDone($el);\r\n        }, settings.timeOut, object, $el);\r\n        $el.data('fade.timeout', timeout);\r\n      } else {\r\n        object.hideDone($el, triggered);\r\n      }\r\n    });\r\n    $el.data('frame.timeout', frame);\r\n    // animations\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    window.xtRequestAnimationFrame( function() {\r\n      object.offWidth($el, triggered);\r\n      object.offHeight($el, triggered);\r\n    });\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('hide.xt', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hideDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // when animation is done\r\n    $el.removeClass('fadeout');\r\n    // a-width and a-height\r\n    if ($el.hasClass('a-height') || $el.hasClass('a-width')) {\r\n      this.removeWrap($el);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('hide.xt.done', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.addWrapOutside = function($el) {\r\n    var $outside = $el.parent('.wrap-container');\r\n    if (!$outside.length) {\r\n      $el.wrap('<div class=\"wrap-container\"></div>');\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.addWrapInside = function($el) {\r\n    var $inside = $el.find('> .wrap-position');\r\n    if (!$inside.length) {\r\n      $el.wrapInner('<div class=\"wrap-position\"></div>');\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.removeWrap = function($el) {\r\n    var $outside = $el.parent('.wrap-container');\r\n    if ($outside.length) {\r\n      $el.unwrap();\r\n    }\r\n    var $inside = $el.find('> .wrap-position');\r\n    if ($inside.length) {\r\n      $inside.contents().unwrap();\r\n    }\r\n  };\r\n    \r\n  Xt.prototype.onWidth = function($el) {\r\n    // animation fadein\r\n    if ($el.hasClass('a-width')) {\r\n      this.addWrapOutside($el);\r\n      this.addWrapInside($el);\r\n      var $outside = $el.parent('.wrap-container');\r\n      var $inside = $el.find('> .wrap-position');\r\n      var w = $outside.outerWidth();\r\n      $inside.css('width', w);\r\n      $el.css('width', w);\r\n      $el.parents('.a-width-left').css(\"margin-left\", -w);\r\n      $el.parents('.a-width-right').css(\"margin-right\", -w);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onHeight = function($el) {\r\n    // animation fadein\r\n    if ($el.hasClass('a-height')) {\r\n      this.addWrapInside($el);\r\n      var $inside = $el.find('> .wrap-position');\r\n      var h = $inside.outerHeight();\r\n      $el.css('height', h);\r\n      $el.parents('.a-height-top').css(\"margin-top\", -h);\r\n      $el.parents('.a-height-bottom').css(\"margin-bottom\", -h);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.offWidth = function($el) {\r\n    // animation fadeout\r\n    if ($el.hasClass('a-width')) {\r\n      $el.css('width', 0);\r\n      $el.parents('.a-width-left').css(\"margin-left\", 0);\r\n      $el.parents('.a-width-right').css(\"margin-right\", 0);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.offHeight = function($el) {\r\n    // animation fadeout\r\n    if ($el.hasClass('a-height')) {\r\n      $el.css('height', 0);\r\n      $el.parents('.a-height-top').css(\"margin-top\", 0);\r\n      $el.parents('.a-height-bottom').css(\"margin-bottom\", 0);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onMiddle = function($el) {\r\n    // animation fadeout\r\n    if ($el.hasClass('middle')) {\r\n      var $outside = $el.parent();\r\n      var add = $outside.outerHeight() / 2;\r\n      var remove = $el.outerHeight() / 2;\r\n      $el.css('top', add - remove);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onCenter = function($el) {\r\n    // animation fadeout\r\n    if ($el.hasClass('center')) {\r\n      var $outside = $el.parent();\r\n      var add = $outside.outerWidth() / 2;\r\n      var remove = $el.outerWidth() / 2;\r\n      $el.css('left', add - remove);\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.getCurrents = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // get $currents on $group data\r\n    var $currents = $group.data('$currents_' + settings.namespace) || $([]);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.setCurrents = function($currents) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // set $currents on $group data\r\n    $group.data('$currents_' + settings.namespace, $currents);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.getElements = function($elements, $element) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements and $element\r\n    if ($elements.is($group)) {\r\n      return $elements;\r\n    } else if ($element.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $element.attr('data-group');\r\n      return $elements.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      // without [data-group]\r\n      return $element;\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.getTargets = function($elements, $element, $g) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // targets from $elements and $element\r\n    if ($elements.is($group)) {\r\n      return $g;\r\n    } else if ($element.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $element.attr('data-group');\r\n      return $g.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      // without [data-group]\r\n      var index = this.getIndex($elements.not('[data-group]'), $element);\r\n      return $g.not('[data-group]').eq(index);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // add scrollbar padding\r\n    var w = object.scrollbarWidth($el);\r\n    w = $el.css('overflow-y') === 'hidden' ? 0 : w;\r\n    $el.addClass('xt-fixed-vertical').css('padding-right', w).css('background-clip', 'content-box');\r\n  };\r\n  \r\n  Xt.prototype.offFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // remove scrollbar padding\r\n    $el.removeClass('xt-fixed-vertical').css('padding-right', 0).css('background-clip', '');\r\n  };\r\n  \r\n  Xt.prototype.getIndex = function($elements, $element) {\r\n    var index = 0;\r\n    if ($elements && $element) {\r\n      $elements.each( function(i) {\r\n        if ($(this).is($element.get(0))) {\r\n          index = i;\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    return index;\r\n  };\r\n  \r\n  Xt.prototype.checkDisabled = function($el, force) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // manage [disabled] attribute\r\n    var str = 'disabled';\r\n    if (settings.on === 'click') {\r\n      if (!force) {\r\n        // automatic based on max\r\n        var $currents = object.getCurrents();\r\n        var min = settings.min;\r\n        var add;\r\n        if ($currents.length === min) {\r\n          add = true;\r\n          $currents.attr(str, str);\r\n        } else {\r\n          $currents.removeAttr(str);\r\n        }\r\n        // sync data-group\r\n        $currents.filter('[data-group]').each( function() {\r\n          var g = $(this).attr('data-group');\r\n          var $dataGroup = settings.$elements.not(this).filter('[data-group=\"' + g + '\"]');\r\n          if (add) {\r\n            $dataGroup.attr(str, str);\r\n          } else {\r\n            $dataGroup.removeAttr(str);\r\n          }\r\n        });\r\n      } else if (force === 'disable') {\r\n        // force disable\r\n        $el.attr(str, str);\r\n      } else if (force === 'enable') {\r\n        // force enable\r\n        $el.removeAttr(str);\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.scrollbarWidth = function($el) {\r\n    var parent, child, width;\r\n    if(width === undefined) {\r\n      parent = $('<div style=\"width:50px; height:50px; overflow:auto;\"><div /></div>').appendTo($el);\r\n      child = parent.children();\r\n      width = child.innerWidth() - child.height(99).innerWidth();\r\n      parent.remove();\r\n    }\r\n    return width;\r\n  };\r\n  \r\n  //////////////////////\r\n  // ajax methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.ajax = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // do ajax only one time\r\n    if (settings.$targets.attr('data-xt-ajaxified') !== url) {\r\n      // ajax\r\n      $.ajax({\r\n        type: 'GET',\r\n        url: url,\r\n        success: function(data, textStatus, jqXHR) {\r\n          var $data = $('<div />').html(data);\r\n          // api\r\n          settings.$targets.trigger('ajax.success.xt', [object, $data]);\r\n          // populate\r\n          var $html = $data.find(settings.targets).contents();\r\n          title = !title ? $data.find('title').text() : title;\r\n          settings.$targets.html($html);\r\n          settings.$targets.attr('data-xt-ajaxified', url);\r\n          // reinit $elements and events\r\n          object.scope();\r\n          object.events();\r\n          // pushstate\r\n          object.pushstate(url, title);\r\n          // api\r\n          settings.$targets.trigger('ajax.populated.xt', [object, $data]);\r\n          settings.$targets.xtInitAll(true); // init xt\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n          console.error('ajax error url:' + url + ' ' + errorThrown);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.pushstate = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // also when on popstate\r\n    document.title = title;\r\n    // trigger on registered\r\n    settings.$elements.filter('[href=\"' + url + '\"]').each( function() {\r\n      object.show($(this), true, false, true);\r\n    });\r\n    // push object state\r\n    if (!history.state || !history.state.url || history.state.url !== url) {\r\n      history.pushState({'url': url, 'title': title}, title, url);\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils\r\n  //////////////////////\r\n  \r\n  // https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n  window.xtRequestAnimationFrame = ( function() {\r\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n  })();\r\n  window.xtCancelAnimationFrame = ( function(id) {\r\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || function(callback) {\r\n      window.clearTimeout(id);\r\n    };\r\n  })();\r\n\r\n  // http://stackoverflow.com/questions/13281897/how-to-preserve-order-of-items-added-to-jquery-matched-set\r\n  // push jquery group inside jquery query, use $([]) for empty query\r\n  // usage: $groups.pushElement($group)\r\n  $.fn.pushElement = function($el) {\r\n    Array.prototype.push.apply(this, $el);\r\n    return this;\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/2200494/jquery-trigger-event-when-an-group-is-removed-from-the-dom\r\n  // xtRemoved event fired when an group is removed from DOM\r\n  $.event.special.xtRemoved = {\r\n    remove: function(o) {\r\n      if (o.handler) { o.handler(); }\r\n    }\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/965816/what-jquery-selector-excludes-items-with-a-parent-that-matches-a-given-selector\r\n  // filter out $groups with :parents(.classname)\r\n  // usage: $groups.filter(':parents(.xt-ignore)')\r\n  $.expr[':'].parents = function(a, i, m){\r\n    return $(a).parents(m[3]).length < 1;\r\n  };\r\n  \r\n  // select all elements with position: fixed;\r\n  // usage: $('*:fixed')\r\n  $.expr[':'].fixed = function(a, i, m){\r\n    return $(a).css('position') === 'fixed';\r\n  };\r\n  \r\n  // select all elements with position: absolute;\r\n  // usage: $('*:absolute')\r\n  $.expr[':'].absolute = function(a, i, m){\r\n    return $(a).css('position') === 'absolute';\r\n  };\r\n  \r\n})(jQuery, window, document);"]}