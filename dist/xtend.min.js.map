{"version":3,"sources":["xtend.js"],"names":["$","window","document","undefined","Xt","group","defaults","options","this","init","XtToggle","call","prototype","Object","create","constructor","fn","xtToggle","name","elements","targets","class","on","off","min","max","animated","each","data","XtOverlay","xtOverlay","XtScroll","xtScroll","XtAjax","xtAjax","url","xt","uid","xtInitAll","deep","is","find","object","settings","$group","extend","arr","split","indexOf","defaultClass","attr","debug","scope","namespace","setup","events","$elements","filter","$outside","parent","length","wrap","$targets","clone","addClass","css","i","removeAttr","insertAfter","mode","found","history","state","loc","location","href","replace","pushstate","title","show","trigger","hasClass","removeClass","$currents","getCurrents","todo","eq","appendTo","eventsScroll","eventsDefault","e","toggle","preventDefault","hide","obj","triggered","target","ajax","resizeNamespace","width","scrollNamespace","scrollTop","scrollTopOld","top","offset","bottom","Infinity","isNaN","parseFloat","xtRequestAnimationFrame","$element","isSync","skipState","getElements","showAfter","setCurrents","pushElement","$linked","not","checkDisabled","$first","first","$target","getTargets","onFixed","$additional","hideAfter","get","offFixed","one","$el","slice","$animated","animationDelayClear","animationMultiple","showDone","onBackdrop","onWidth","onHeight","onMiddle","onCenter","has","hideDone","offBackdrop","offWidth","offHeight","removeWrap","callout","add","$single","done","xtCancelAnimationFrame","frame","animationDelay","apply","ns","timing","timeout","setTimeout","clearTimeout","$position","$backdrop","$inside","height","remove","addWrap","w","outerWidth","parents","h","outerHeight","wrapInner","contents","unwrap","g","$g","index","getIndex","scrollbarWidth","force","str","$dataGroup","child","children","innerWidth","type","success","textStatus","jqXHR","$data","html","$html","text","error","errorThrown","console","pushState","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","Array","push","event","special","xtRemoved","o","handler","expr","a","m","fixed","absolute","jQuery"],"mappings":"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","file":"xtend.min.js","sourcesContent":["/*! xtend v0.0.6 (http://www.minimit.com/xtend/)\n@copyright (c) 2016 - 2017 Riccardo Caroli\n@license MIT (https://github.com/minimit/xtend/blob/master/LICENSE) */\r\n\r\n;( function($, window, document, undefined) {\r\n\r\n  'use strict';\r\n  \r\n  //////////////////////\r\n  // constructor\r\n  //////////////////////\r\n\r\n  var Xt = function(group, defaults, options) {\r\n    this.group = group;\r\n    this.init(defaults, options);\r\n  };\r\n  \r\n  var XtToggle = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtToggle.prototype = Object.create(Xt.prototype);\r\n  XtToggle.prototype.constructor = XtToggle;\r\n  $.fn.xtToggle = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-toggle',\r\n      'elements': null,\r\n      'targets': '.toggle-flex, .toggle-block, .toggle-inline-block, .toggle-inline, .toggle-none',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'off': null,\r\n      'min': 0,\r\n      'max': 1,\r\n      'animated': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtToggle(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtOverlay = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtOverlay.prototype = Object.create(Xt.prototype);\r\n  XtOverlay.prototype.constructor = XtOverlay;\r\n  $.fn.xtOverlay = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-overlay',\r\n      'targets': '',\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n      'animated': '.overlay-content',\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtOverlay(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtScroll = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtScroll.prototype = Object.create(Xt.prototype);\r\n  XtScroll.prototype.constructor = XtScroll;\r\n  $.fn.xtScroll = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-scroll',\r\n      'on': 'scroll',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtScroll(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtAjax = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtAjax.prototype = Object.create(Xt.prototype);\r\n  XtAjax.prototype.constructor = XtAjax;\r\n  $.fn.xtAjax = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-ajax',\r\n      'targets': null,\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'url': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtAjax(this, defaults, options));\r\n      }\r\n    });\r\n  };\n  \n  \r\n  //////////////////////\r\n  // init\r\n  //////////////////////\r\n  \r\n  $.fn.xt = {\r\n    'uid': 0\r\n  };\r\n  \r\n  $.fn.xtInitAll = function(deep) {\r\n    return this.each( function() {\r\n      if ($(this).is('[data-xt-toggle]')) {\r\n        $(this).xtToggle();\r\n      }\r\n      if ($(this).is('[data-xt-overlay]')) {\r\n        $(this).xtOverlay();\r\n      }\r\n      if ($(this).is('[data-xt-scroll]')) {\r\n        $(this).xtScroll();\r\n      }\r\n      if ($(this).is('[data-xt-ajax]')) {\r\n        $(this).xtAjax();\r\n      }\r\n      if (deep) {\r\n        $(this).find('[data-xt-toggle]').xtToggle();\r\n        $(this).find('[data-xt-overlay]').xtOverlay();\r\n        $(this).find('[data-xt-scroll]').xtScroll();\r\n        $(this).find('[data-xt-ajax]').xtAjax();\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // init methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.init = function(defaults, options) {\r\n    var object = this;\r\n    var settings = this.settings = {};\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // override with js settings\r\n    settings = $.extend(settings, defaults, options);\r\n    // override with html settings\r\n    $.extend(settings, $group.data(settings.name));\r\n    // defaults.class\r\n    var arr = settings.class.split(' ');\r\n    if (arr.indexOf(defaults.class) === -1) {\r\n      settings.class += ' ' + defaults.class;\r\n    }\r\n    object.defaultClass = defaults.class;\r\n    // debug\r\n    if ($group.attr('debug') || $group.attr('debug') === '') {\r\n      settings.debug = true;\r\n    }\r\n    // setup\r\n    object.scope();\r\n    object.namespace();\r\n    object.setup();\r\n    object.events();\r\n  };\r\n  \r\n  Xt.prototype.namespace = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // namespace\r\n    if (settings.targets && settings.targets.indexOf('#') !== -1) {\r\n      settings.uid = settings.targets;\r\n    } else if($group.attr('id')) {\r\n      settings.uid = $group.attr('id');\r\n    } else {\r\n      settings.uid = 'unique' + $.fn.xt.uid++;\r\n    }\r\n    settings.namespace = settings.name + '_' + settings.uid + '_' + settings.class;\r\n    $group.attr('data-xt-namespace', settings.namespace);\r\n  };\r\n  \r\n  Xt.prototype.scope = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements\r\n    if (settings.elements) {\r\n      if (settings.elements.indexOf('#') !== -1) {\r\n        settings.$elements = $(settings.elements).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$elements = $group.find(settings.elements).filter(':parents(.xt-ignore)');\r\n        /*\r\n        if (!settings.$elements.length) {\r\n          settings.$elements = $group.parent().find(settings.elements).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    } else {\r\n      settings.$elements = $group;\r\n    }\r\n    // $targets\r\n    if (settings.name === 'xt-scroll') {\r\n      // wrapper\r\n      var $outside = $group.parent('.xt-container.xt-position');\r\n      if (!$outside.length) {\r\n        $outside = $group.wrap($('<div class=\"xt-container xt-position\"></div>'));\r\n      }\r\n      // xt-scroll $targets\r\n      settings.$targets = $outside.find('.xt-clone.xt-ignore');\r\n      if (!settings.$targets.length) {\r\n        settings.$targets = $group.clone().addClass('xt-clone xt-ignore').css('visibility', 'hidden');\r\n        $.each(settings.$targets.data(), function(i) {\r\n          settings.$targets.removeAttr('data-' + i);\r\n        });\r\n        settings.$targets.insertAfter($group);\r\n      }\r\n      // stuff\r\n      if (settings.mode === 'absolute') {\r\n        $group.css('position', 'absolute');\r\n      } else if (settings.mode === 'fixed') {\r\n        $group.css('position', 'fixed');\r\n      }\r\n      if ($group.is(':fixed') || $group.is(':absolute')) {\r\n        $group.css('z-index', 70);\r\n        settings.$targets.css('display', 'block');\r\n      } else {\r\n        settings.$targets.css('display', 'none');\r\n      }\r\n    } else if(settings.targets) {\r\n      if (settings.targets.indexOf('#') !== -1) {\r\n        settings.$targets = $(settings.targets).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$targets = $group.find(settings.targets).filter(':parents(.xt-ignore)').filter(':parents(' + settings.targets + ')');\r\n        /*\r\n        if (!settings.$targets.length) {\r\n          settings.$targets = $group.parent().find(settings.targets).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.setup = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // initial activations\r\n    if (settings.name === 'xt-ajax') {\r\n      var url;\r\n      var found;\r\n      if (history.state && history.state.url) {\r\n        // detect from history\r\n        url = history.state.url;\r\n      } else {\r\n        // detect from url location (absolute url without domain name)\r\n        var loc = window.location.href.split('#')[0];\r\n        url = loc.replace(/https?:\\/\\/[^\\/]+/i, '');\r\n      }\r\n      settings.$elements.each( function() {\r\n        if ($(this).attr('href') === url) {\r\n          found = $(this);\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        // set ajaxified\r\n        settings.$targets.attr('data-xt-ajaxified', url);\r\n        object.pushstate(url, document.title);\r\n        // then show\r\n        object.show(found);\r\n        // api\r\n        settings.$targets.trigger('ajax.init.xt', [object]);\r\n      }\r\n    } else {\r\n      // automatic reinit if has class\r\n      if (settings.$elements) {\r\n        settings.$elements.each( function() {\r\n          if ($(this).hasClass(object.defaultClass)) {\r\n            $(this).removeClass(settings.class);\r\n            object.show($(this));\r\n          }\r\n        });\r\n        // automatic init if $currents < min\r\n        var $currents = object.getCurrents();\r\n        var todo = settings.min - $currents.length;\r\n        if (todo) {\r\n          for (var i = 0; i < todo; i++) {\r\n            object.show(settings.$elements.eq(i));\r\n          }\r\n        }\r\n      }\r\n      if (settings.name === 'xt-overlay') {\r\n        settings.$targets.appendTo('body');\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.events = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // events\r\n    if (settings.name === 'xt-scroll') {\r\n      object.eventsScroll();\r\n    } else {\r\n      object.eventsDefault();\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.eventsDefault = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements events\r\n    if (settings.$elements) {\r\n      // on off events\r\n      if (settings.on) {\r\n        settings.$elements.off(settings.on).on(settings.on, function(e) {\r\n          object.toggle($(this));\r\n          if (settings.name === 'xt-ajax') {\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n      if (settings.off) {\r\n        settings.$elements.off(settings.off).on(settings.off, function(e) {\r\n          object.toggle($(this));\r\n        });\r\n      }\r\n      // remove html classes\r\n      settings.$elements.on('xtRemoved', function(e) {\r\n        if (settings.name === 'xt-overlay') { // also this $group.is('[data-xt-reset]')\r\n          object.hide($(this), false, true, true);\r\n        }\r\n      });\r\n      // api\r\n      settings.$elements.on('show.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.show($(this), true);\r\n        }\r\n      });\r\n      settings.$elements.on('hide.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.hide($(this), true);\r\n        }\r\n      });\r\n    }\r\n    // ajax events\r\n    if (settings.name === 'xt-ajax') {\r\n      // popstate\r\n      $(window).off('popstate.xt.' + settings.namespace);\r\n      $(window).on('popstate.xt.' + settings.namespace, function(e) {\r\n        if (history.state && history.state.url) {\r\n          object.ajax(history.state.url, history.state.title);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // events methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.eventsScroll = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // resize\r\n    var $outside = settings.$targets.parent('.xt-container.xt-position');\r\n    var resizeNamespace = 'resize.xt.' + settings.namespace;\r\n    $(window).off(resizeNamespace);\r\n    $(window).on(resizeNamespace, function(e) {\r\n      $outside.css('width', $outside.parent().width()); // fix fixed width\r\n    });\r\n    $(window).trigger(resizeNamespace);\r\n    // scroll\r\n    var scrollNamespace = 'scroll.xt.' + settings.namespace;\r\n    $(window).off(scrollNamespace);\r\n    $(window).on(scrollNamespace, function(e) {\r\n      var scrollTop = $(this).scrollTop();\r\n      if (scrollTop !== settings.scrollTopOld) {\r\n        // show or hide\r\n        var top = $outside.offset().top;\r\n        var bottom = Infinity;\r\n        if (settings.top !== undefined) {\r\n          if (!isNaN(parseFloat(settings.top))) {\r\n            top = settings.top;\r\n          } else {\r\n            top = $(settings.top).offset().top;\r\n          }\r\n        }\r\n        if (settings.bottom !== undefined) {\r\n          if (!isNaN(parseFloat(settings.bottom))) {\r\n            bottom = settings.bottom;\r\n          } else if ($(settings.bottom).length) {\r\n            bottom = $(settings.bottom).offset().top;\r\n          }\r\n        }\r\n        if (scrollTop >= top && scrollTop < bottom) {\r\n          if (!$group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.show($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-off-top scroll-off-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-on-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-on-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-top');\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          if ($group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.hide($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-on-top scroll-on-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-off-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-off-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-top');\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      settings.scrollTopOld = scrollTop;\r\n    });\r\n    $(window).trigger(scrollNamespace);\r\n    // remove window event on remove\r\n    $group.on('xtRemoved', function(e) {\r\n      $(window).off(resizeNamespace);\r\n      $(window).off(scrollNamespace);\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // toggle methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.toggle = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // choose based on state\r\n    if (!$element.hasClass(object.defaultClass)) {\r\n      object.show($element, triggered, isSync, skipState);\r\n    } else {\r\n      object.hide($element, triggered, isSync, skipState);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.show = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // activate $element\r\n    if ($element) {\r\n      // show and add in $currents\r\n      if (!$element.hasClass(object.defaultClass)) {\r\n        var $elements = object.getElements(settings.$elements, $element);\r\n        object.showAfter($elements, triggered);\r\n        var $currents = object.getCurrents();\r\n        $currents = object.setCurrents($currents.pushElement($element));\r\n        // linked\r\n        if (!isSync) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            var $linked = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n            $linked.each( function() {\r\n              var xt = $(this).data(settings.name);\r\n              xt.show($(this), true, true);\r\n            });\r\n          });\r\n        }\r\n        // control over activated\r\n        if (settings.name === 'xt-ajax') {\r\n          // [disabled]\r\n          object.checkDisabled($element, 'disable');\r\n          // ajax\r\n          object.ajax($element.attr('href'));\r\n        } else {\r\n          // [disabled]\r\n          object.checkDisabled($element);\r\n          // hide max or differents\r\n          if (!isSync) {\r\n            if ($currents.length > settings.max) {\r\n              var $first = $currents.first();\r\n              object.hide($first);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // activate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getTargets(settings.$elements, $element, settings.$targets);\r\n      if (!$target.hasClass(object.defaultClass)) {\r\n        object.showAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // add paddings\r\n          object.onFixed($('html')); // $('*:fixed').not($target).add('html')\r\n          // activate $additional with $group time\r\n          var $additional = $('html');\r\n          if (!$additional.hasClass(object.defaultClass)) {\r\n            $additional.addClass(settings.class);\r\n            window.xtRequestAnimationFrame( function() {\r\n              $additional.addClass('fade-in');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hide = function($element, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // deactivate $element\r\n    if ($element) {\r\n      var $currents = object.getCurrents();\r\n      if ($element.hasClass(object.defaultClass)) {\r\n        if (isSync || settings.name === 'xt-ajax' || $currents.length > settings.min) {\r\n          var $elements = object.getElements(settings.$elements, $element);\r\n          object.hideAfter($elements, triggered);\r\n          if ($element.attr('data-group')) {\r\n            $currents = object.setCurrents($currents.not('[data-group=' + $element.attr('data-group') + ']'));\r\n          } else {\r\n            $currents = object.setCurrents($currents.not($element.get(0)));\r\n          }\r\n          // linked\r\n          if (!isSync) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              var $linked = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n              $linked.each( function() {\r\n                var xt = $(this).data(settings.name);\r\n                xt.hide($(this), true, true);\r\n              });\r\n            });\r\n          }\r\n        }\r\n        // [disabled]\r\n        if (isSync || settings.name === 'xt-ajax') {\r\n          object.checkDisabled($element, 'enable');\r\n        } else {\r\n          object.checkDisabled($element);\r\n        }\r\n      }\r\n    }\r\n    // deactivate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getTargets(settings.$elements, $element, settings.$targets);\r\n      if ($target.hasClass(object.defaultClass)) {\r\n        object.hideAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // remove paddings\r\n          object.offFixed($('html')); // $('.xt-fixed-vertical').add('html')\r\n          // deactivate $additional with $group time\r\n          var $additional = $('html');\r\n          if ($additional.hasClass(object.defaultClass)) {\r\n            $additional.removeClass(settings.class);\r\n            $additional.removeClass('fade-in');\r\n            $additional.addClass('fade-out');\r\n            settings.$targets.off('hide.xt.done.additional').one('hide.xt.done.additional', function() {\r\n              $additional.removeClass('fade-out');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // on and off methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.showAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $animated\r\n    var $el = $elements.slice(0);\r\n    var $animated = $el;\r\n    if (settings.animated) {\r\n      $animated = $el.find(settings.animated);\r\n      $el = $el.pushElement($animated);\r\n    }\r\n    // on\r\n    $el.addClass(settings.class).removeClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // in\r\n    object.animationMultiple($el, triggered, object.showDone, 'fade-in');\r\n    // animations\r\n    if ($el.hasClass('backdrop')) {\r\n      object.onBackdrop($animated, triggered);\r\n    }\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    object.onMiddle($el, triggered);\r\n    object.onCenter($el, triggered);\r\n    // events\r\n    if ($group.hasClass('drop')) {\r\n      // close on document click\r\n      $(document).off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        var $target = $(e.target);\r\n        if (!$group.is($target) && !$group.has($target).length) {\r\n          object.hide(settings.$elements, true, true, true);\r\n        }\r\n      });\r\n    } else if ($el.hasClass('overlay')) {\r\n      // close on .overlay-close\r\n      $el.find('.overlay-close').off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        object.hide(settings.$elements, true, true, true);\r\n      });\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('show.xt', [object, true]);\r\n    }\r\n  };\r\n  Xt.prototype.showDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // when animation is done\r\n    // anim-width and anim-height\r\n    if ($el.hasClass('anim-height')) {\r\n      $el.css('height', 'auto');\r\n    }\r\n    if ($el.hasClass('anim-width')) {\r\n      $el.css('width', 'auto');\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('fadein.xt.done', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hideAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $animated\r\n    var $el = $elements.slice(0);\r\n    var $animated = $el;\r\n    if ($el.hasClass('overlay')) {\r\n      $animated = $el.find(settings.animated);\r\n      $el = $el.pushElement($animated);\r\n    }\r\n    // off\r\n    $el.removeClass(settings.class).removeClass('fade-in').addClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // out\r\n    object.animationMultiple($el, triggered, object.hideDone);\r\n    // animations\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    window.xtRequestAnimationFrame( function() {\r\n      if ($el.hasClass('backdrop')) {\r\n        object.offBackdrop($animated, triggered);\r\n      }\r\n      object.offWidth($el, triggered);\r\n      object.offHeight($el, triggered);\r\n    });\r\n    // close on document click\r\n    if ($group.hasClass('drop')) {\r\n      $(document).off('click.xt.' + settings.namespace);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('hide.xt', [object, true]);\r\n    }\r\n  };\r\n  Xt.prototype.hideDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // when animation is done\r\n    $el.removeClass('fade-out');\r\n    // anim-width and anim-height\r\n    if ($el.hasClass('anim-height') || $el.hasClass('anim-width')) {\r\n      object.removeWrap($el);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('fadeout.xt', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.animationMultiple = function($el, triggered, callout, add) {\r\n    var object = this;\r\n    // animationMultiple\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      var done = 0;\r\n      window.xtCancelAnimationFrame($single.data('frame.timeout'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        if (add) {\r\n          $single.addClass(add);\r\n        }\r\n        object.animationDelay($single, 'anim', function() {\r\n          if (++done < $el.length) {\r\n            return false;\r\n          }\r\n          callout.apply(object, [$el, triggered]);\r\n        });\r\n      });\r\n      $single.data('frame.timeout', frame);\r\n    });\r\n  };\r\n  Xt.prototype.animationDelay = function($el, ns, callout) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // delay for animations\r\n    if (settings.timing === undefined && $el.css('transitionDuration') !== '0s') {\r\n      $el.on('transitionend.xt.' + ns, function(e) {\r\n        callout();\r\n      });\r\n    } else if (settings.timing) {\r\n      var timeout = window.setTimeout( function(object) {\r\n        callout();\r\n      }, settings.timing);\r\n      $el.data('fade.timeout.' + ns, timeout);\r\n    } else {\r\n      callout();\r\n    }\r\n  };\r\n  Xt.prototype.animationDelayClear = function($el, ns) {\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n  };\r\n  \r\n  //////////////////////\r\n  // animations methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.onBackdrop = function($animated, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation in\r\n    var $position = $animated.parent();\r\n    var $backdrop = $position.find('> .xt-backdrop');\r\n    if (!$backdrop.length) {\r\n      $backdrop = $('<div class=\"xt-backdrop\"></div>').appendTo($position);\r\n    }\r\n    // animations\r\n    object.animationDelayClear($backdrop, 'backdrop');\r\n    window.xtRequestAnimationFrame( function() {\r\n      $backdrop.addClass('fade-in');\r\n      $backdrop.removeClass('fade-out');\r\n    });\r\n    // events\r\n    $backdrop.on('click', function(e) {\r\n      object.hide(object.settings.$elements, true, true, true);\r\n    });\r\n    // backdrop resize\n    var $inside = $backdrop.parent('.overlay-inside');\n    if ($inside.length) {\n      var resizeNamespace = 'resize.xt.backdrop.' + settings.namespace;\r\n      $(window).off(resizeNamespace).on(resizeNamespace, function(e) {\r\n        $backdrop.css('width', $inside.width()); // fix fixed width\r\n        $backdrop.css('height', $inside.height()); // fix fixed height\r\n      });\r\n      $(window).trigger(resizeNamespace);\n    }\r\n  };\r\n  Xt.prototype.offBackdrop = function($animated, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation out\r\n    var $position = $animated.parent();\r\n    var $backdrop = $position.find('> .xt-backdrop');\r\n    if ($backdrop.length) {\r\n      // animations\r\n      $backdrop.removeClass('fade-in');\r\n      window.xtRequestAnimationFrame( function() {\r\n        $backdrop.addClass('fade-out');\r\n        object.animationDelay($backdrop, 'backdrop', function() {\r\n          $backdrop.removeClass('fade-out').remove();\r\n        });\r\n      });\r\n    }\r\n    // backdrop resize\r\n    var $inside = $backdrop.parent('.overlay-inside');\r\n    if ($inside.length) {\r\n      var resizeNamespace = 'resize.xt.backdrop.' + settings.namespace;\r\n      $(window).off(resizeNamespace);\n    }\r\n  };\r\n    \r\n  Xt.prototype.onWidth = function($el) {\r\n    var object = this;\r\n    // animation in\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-width')) {\r\n        object.addWrap($single);\r\n        var $outside = $single.parent('.xt-container');\r\n        var $inside = $single.find('> .xt-position');\r\n        var w = $outside.outerWidth();\r\n        $inside.css('width', w);\r\n        $single.css('width', w);\r\n        $single.parents('.anim-width-left').css('margin-left', -w);\r\n        $single.parents('.anim-width-right').css('margin-right', -w);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.offWidth = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-width')) {\r\n        $single.css('width', 0);\r\n        $single.parents('.anim-width-left').css('margin-left', 0);\r\n        $single.parents('.anim-width-right').css('margin-right', 0);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.onHeight = function($el) {\r\n    var object = this;\r\n    // animation in\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-height')) {\r\n        object.addWrap($single);\r\n        var $inside = $single.find('> .xt-position');\r\n        var h = $inside.outerHeight();\r\n        $single.css('height', h);\r\n        $single.parents('.anim-height-top').css('margin-top', -h);\r\n        $single.parents('.anim-height-bottom').css('margin-bottom', -h);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.offHeight = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-height')) {\r\n        $single.css('height', 0);\r\n        $single.parents('.anim-height-top').css('margin-top', 0);\r\n        $single.parents('.anim-height-bottom').css('margin-bottom', 0);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.onMiddle = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('middle')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerHeight() / 2;\r\n        var remove = $single.outerHeight() / 2;\r\n        $single.css('top', add - remove);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.onCenter = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('center')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerWidth() / 2;\r\n        var remove = $single.outerWidth() / 2;\r\n        $single.css('left', add - remove);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.addWrap = function($el) {\r\n    var $outside = $el.parent('.xt-container');\r\n    if (!$outside.length) {\r\n      $el.wrap('<div class=\"xt-container\"></div>');\r\n    }\r\n    var $inside = $el.find('> .xt-position');\r\n    if (!$inside.length) {\r\n      $el.wrapInner('<div class=\"xt-position\"></div>');\r\n    }\r\n  };\r\n  Xt.prototype.removeWrap = function($el) {\r\n    var $outside = $el.parent('.xt-container');\r\n    if ($outside.length) {\r\n      $outside.contents().unwrap();\r\n    }\r\n    var $inside = $el.find('> .xt-position');\r\n    if ($inside.length) {\r\n      $inside.contents().unwrap();\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.getCurrents = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // get $currents on $group data\r\n    var $currents = $group.data('$currents.' + settings.namespace) || $([]);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.setCurrents = function($currents) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // set $currents on $group data\r\n    $group.data('$currents.' + settings.namespace, $currents);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.getElements = function($elements, $element) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements and $element\r\n    if ($elements.is($group)) {\r\n      return $elements;\r\n    } else if ($element.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $element.attr('data-group');\r\n      return $elements.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      // without [data-group]\r\n      return $element;\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.getTargets = function($elements, $element, $g) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // targets from $elements and $element\r\n    if ($elements.is($group)) {\r\n      return $g;\r\n    } else if ($element.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $element.attr('data-group');\r\n      return $g.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      // without [data-group]\r\n      var index = object.getIndex($elements.not('[data-group]'), $element);\r\n      return $g.not('[data-group]').eq(index);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // add scrollbar padding\r\n    var w = object.scrollbarWidth($el);\r\n    w = $el.css('overflow-y') === 'hidden' ? 0 : w;\r\n    $el.addClass('xt-fixed-vertical').css('padding-right', w).css('background-clip', 'content-box');\r\n  };\r\n  \r\n  Xt.prototype.offFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // remove scrollbar padding\r\n    $el.removeClass('xt-fixed-vertical').css('padding-right', 0).css('background-clip', '');\r\n  };\r\n  \r\n  Xt.prototype.getIndex = function($elements, $element) {\r\n    var index = 0;\r\n    if ($elements && $element) {\r\n      $elements.each( function(i) {\r\n        if ($(this).is($element.get(0))) {\r\n          index = i;\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    return index;\r\n  };\r\n  \r\n  Xt.prototype.checkDisabled = function($el, force) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // manage [disabled] attribute\r\n    var str = 'disabled';\r\n    if (settings.on === 'click') {\r\n      if (!force) {\r\n        // automatic based on max\r\n        var $currents = object.getCurrents();\r\n        var min = settings.min;\r\n        var add;\r\n        if ($currents.length === min) {\r\n          add = true;\r\n          $currents.attr(str, str);\r\n        } else {\r\n          $currents.removeAttr(str);\r\n        }\r\n        // sync data-group\r\n        $currents.filter('[data-group]').each( function() {\r\n          var g = $(this).attr('data-group');\r\n          var $dataGroup = settings.$elements.not(this).filter('[data-group=\"' + g + '\"]');\r\n          if (add) {\r\n            $dataGroup.attr(str, str);\r\n          } else {\r\n            $dataGroup.removeAttr(str);\r\n          }\r\n        });\r\n      } else if (force === 'disable') {\r\n        // force disable\r\n        $el.attr(str, str);\r\n      } else if (force === 'enable') {\r\n        // force enable\r\n        $el.removeAttr(str);\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.scrollbarWidth = function($el) {\r\n    var parent, child, width;\r\n    if(width === undefined) {\r\n      parent = $('<div style=\"width:50px; height:50px; overflow:auto;\"><div /></div>').appendTo($el);\r\n      child = parent.children();\r\n      width = child.innerWidth() - child.height(99).innerWidth();\r\n      parent.remove();\r\n    }\r\n    return width;\r\n  };\r\n  \r\n  //////////////////////\r\n  // ajax methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.ajax = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // do ajax only one time\r\n    if (settings.$targets.attr('data-xt-ajaxified') !== url) {\r\n      // ajax\r\n      $.ajax({\r\n        type: 'GET',\r\n        url: url,\r\n        success: function(data, textStatus, jqXHR) {\r\n          var $data = $('<div />').html(data);\r\n          // api\r\n          settings.$targets.trigger('ajax.success.xt', [object, $data]);\r\n          // populate\r\n          var $html = $data.find(settings.targets).contents();\r\n          title = !title ? $data.find('title').text() : title;\r\n          settings.$targets.html($html);\r\n          settings.$targets.attr('data-xt-ajaxified', url);\r\n          // reinit $elements and events\r\n          object.scope();\r\n          object.events();\r\n          // pushstate\r\n          object.pushstate(url, title);\r\n          // api\r\n          settings.$targets.trigger('ajax.populated.xt', [object, $data]);\r\n          settings.$targets.xtInitAll(true); // init xt\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n          console.error('ajax error url:' + url + ' ' + errorThrown);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.pushstate = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // also when on popstate\r\n    document.title = title;\r\n    // trigger on registered\r\n    settings.$elements.filter('[href=\"' + url + '\"]').each( function() {\r\n      object.show($(this), true, false, true);\r\n    });\r\n    // push object state\r\n    if (!history.state || !history.state.url || history.state.url !== url) {\r\n      history.pushState({'url': url, 'title': title}, title, url);\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils\r\n  //////////////////////\r\n  \r\n  // https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n  window.xtRequestAnimationFrame = ( function() {\r\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n  })();\r\n  window.xtCancelAnimationFrame = ( function(id) {\r\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || function(callback) {\r\n      window.clearTimeout(id);\r\n    };\r\n  })();\r\n\r\n  // http://stackoverflow.com/questions/13281897/how-to-preserve-order-of-items-added-to-jquery-matched-set\r\n  // push jquery group inside jquery query, use $([]) for empty query\r\n  // usage: $groups.pushElement($group)\r\n  $.fn.pushElement = function($el) {\r\n    Array.prototype.push.apply(this, $el);\r\n    return this;\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/2200494/jquery-trigger-event-when-an-group-is-removed-from-the-dom\r\n  // xtRemoved event fired when an group is removed from DOM\r\n  $.event.special.xtRemoved = {\r\n    remove: function(o) {\r\n      if (o.handler) { o.handler(); }\r\n    }\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/965816/what-jquery-selector-excludes-items-with-a-parent-that-matches-a-given-selector\r\n  // filter out $groups with :parents(.classname)\r\n  // usage: $groups.filter(':parents(.xt-ignore)')\r\n  $.expr[':'].parents = function(a, i, m){\r\n    return $(a).parents(m[3]).length < 1;\r\n  };\r\n  \r\n  // select all elements with position: fixed;\r\n  // usage: $('*:fixed')\r\n  $.expr[':'].fixed = function(a, i, m){\r\n    return $(a).css('position') === 'fixed';\r\n  };\r\n  \r\n  // select all elements with position: absolute;\r\n  // usage: $('*:absolute')\r\n  $.expr[':'].absolute = function(a, i, m){\r\n    return $(a).css('position') === 'absolute';\r\n  };\r\n  \r\n})(jQuery, window, document);"]}