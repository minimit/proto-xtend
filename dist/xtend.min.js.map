{"version":3,"sources":["xtend.js"],"names":["$","window","document","undefined","Xt","group","defaults","options","this","init","XtToggle","call","prototype","Object","create","constructor","fn","xtToggle","name","elements","targets","class","on","off","min","max","anim","each","data","XtDrop","xtDrop","XtOverlay","xtOverlay","backdrop","XtScroll","xtScroll","XtAjax","xtAjax","url","xt","uid","xtInitAll","deep","is","find","object","settings","$group","extend","arr","split","indexOf","defaultClass","attr","debug","scope","namespace","setup","events","$elements","filter","$outside","parent","length","wrap","$targets","clone","addClass","css","i","removeAttr","insertAfter","mode","$t","$tinner","not","found","history","state","loc","location","href","replace","pushstate","title","show","trigger","hasClass","removeClass","$currents","getCurrents","todo","eq","appendTo","eventsScroll","eventsDefault","$et","slice","pushElement","e","toggle","preventDefault","remove","obj","triggered","target","hide","ajax","resizeNamespace","width","scrollNamespace","scrollTop","scrollTopOld","top","offset","bottom","Infinity","isNaN","parseFloat","xtRequestAnimationFrame","$el","isSync","skipState","getIndexed","showAfter","setCurrents","$sync","checkDisabled","$first","first","$target","onFixed","$additional","hideAfter","offFixed","one","force","str","add","g","$dataGroup","$anim","animationDelayClear","animationMultiple","showDone","onBackdrop","onWidth","onHeight","onMiddle","onCenter","has","hideDone","offBackdrop","offWidth","offHeight","removeWrap","callout","done","$single","xtCancelAnimationFrame","frame","animationDelay","apply","ns","t","timing","duration","stringToMilliseconds","timeout","setTimeout","clearTimeout","$container","$position","$backdrop","addWrap","$inside","w","outerWidth","parents","h","outerHeight","wrapInner","contents","unwrap","$g","index","getIndex","scrollbarWidth","get","child","children","innerWidth","height","ms","num","unit","match","type","success","textStatus","jqXHR","$data","html","$html","text","error","errorThrown","console","pushState","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","callback","id","cancelAnimationFrame","webkitCancelAnimationFrame","mozCancelAnimationFrame","Array","push","event","special","xtRemoved","o","handler","expr","a","m","fixed","absolute","jQuery"],"mappings":"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","file":"xtend.min.js","sourcesContent":["/*! xtend v0.0.6 (http://www.minimit.com/xtend/)\n@copyright (c) 2016 - 2017 Riccardo Caroli\n@license MIT (https://github.com/minimit/xtend/blob/master/LICENSE) */\r\n\r\n;( function($, window, document, undefined) {\r\n\r\n  'use strict';\r\n  \r\n  //////////////////////\r\n  // constructor\r\n  //////////////////////\r\n\r\n  var Xt = function(group, defaults, options) {\r\n    this.group = group;\r\n    this.init(defaults, options);\r\n  };\r\n  \r\n  var XtToggle = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtToggle.prototype = Object.create(Xt.prototype);\r\n  XtToggle.prototype.constructor = XtToggle;\r\n  $.fn.xtToggle = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-toggle',\r\n      'elements': null,\r\n      'targets': '[class^=\"toggle-\"], [class*=\" toggle-\"]',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'off': null,\r\n      'min': 0,\r\n      'max': 1,\r\n      'anim': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtToggle(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtDrop = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtDrop.prototype = Object.create(Xt.prototype);\r\n  XtDrop.prototype.constructor = XtDrop;\r\n  $.fn.xtDrop = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-drop',\r\n      'elements': '> .button',\r\n      'targets': '.drop',\r\n      'class': 'active',\r\n      'on': 'click',\r\n      'off': null,\r\n      'min': 0,\r\n      'max': 1,\r\n      'anim': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtDrop(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtOverlay = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtOverlay.prototype = Object.create(Xt.prototype);\r\n  XtOverlay.prototype.constructor = XtOverlay;\r\n  $.fn.xtOverlay = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-overlay',\r\n      'targets': '',\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n      'anim': '.overlay-inner',\r\n      'backdrop': '.overlay-inner',\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtOverlay(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtScroll = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtScroll.prototype = Object.create(Xt.prototype);\r\n  XtScroll.prototype.constructor = XtScroll;\r\n  $.fn.xtScroll = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-scroll',\r\n      'on': 'scroll',\r\n      'class': 'active',\r\n      'min': 0,\r\n      'max': 1,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtScroll(this, defaults, options));\r\n      }\r\n    });\r\n  };\r\n  \r\n  var XtAjax = function(group, defaults, options) {\r\n    Xt.call(this, group, defaults, options);\r\n  };\r\n  XtAjax.prototype = Object.create(Xt.prototype);\r\n  XtAjax.prototype.constructor = XtAjax;\r\n  $.fn.xtAjax = function(options) {\r\n    var defaults = {\r\n      'name': 'xt-ajax',\r\n      'targets': null,\r\n      'on': 'click',\r\n      'class': 'active',\r\n      'url': null,\r\n    };\r\n    return this.each( function() {\r\n      if (!$.data(this, defaults.name)) {\r\n        $.data(this, defaults.name, new XtAjax(this, defaults, options));\r\n      }\r\n    });\r\n  };\n  \n  \r\n  //////////////////////\r\n  // init\r\n  //////////////////////\r\n  \r\n  $.fn.xt = {\r\n    'uid': 0\r\n  };\r\n  \r\n  $.fn.xtInitAll = function(deep) {\r\n    return this.each( function() {\r\n      if ($(this).is('[data-xt-toggle]')) {\r\n        $(this).xtToggle();\r\n      }\r\n      if ($(this).is('[data-xt-drop]')) {\r\n        $(this).xtDrop();\r\n      }\r\n      if ($(this).is('[data-xt-overlay]')) {\r\n        $(this).xtOverlay();\r\n      }\r\n      if ($(this).is('[data-xt-scroll]')) {\r\n        $(this).xtScroll();\r\n      }\r\n      if ($(this).is('[data-xt-ajax]')) {\r\n        $(this).xtAjax();\r\n      }\r\n      if (deep) {\r\n        $(this).find('[data-xt-toggle]').xtToggle();\r\n        $(this).find('[data-xt-drop]').xtDrop();\r\n        $(this).find('[data-xt-overlay]').xtOverlay();\r\n        $(this).find('[data-xt-scroll]').xtScroll();\r\n        $(this).find('[data-xt-ajax]').xtAjax();\r\n      }\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // init methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.init = function(defaults, options) {\r\n    var object = this;\r\n    var settings = this.settings = {};\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // override with js settings\r\n    settings = $.extend(settings, defaults, options);\r\n    // override with html settings\r\n    $.extend(settings, $group.data(settings.name));\r\n    // defaults.class\r\n    var arr = settings.class.split(' ');\r\n    if (arr.indexOf(defaults.class) === -1) {\r\n      settings.class += ' ' + defaults.class;\r\n    }\r\n    object.defaultClass = defaults.class;\r\n    // debug\r\n    if ($group.attr('debug') || $group.attr('debug') === '') {\r\n      settings.debug = true;\r\n    }\r\n    // setup\r\n    object.scope();\r\n    object.namespace();\r\n    object.setup();\r\n    object.events();\r\n  };\r\n  \r\n  Xt.prototype.namespace = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // namespace\r\n    if (settings.targets && settings.targets.indexOf('#') !== -1) {\r\n      settings.uid = settings.targets;\r\n    } else if($group.attr('id')) {\r\n      settings.uid = $group.attr('id');\r\n    } else {\r\n      settings.uid = 'unique' + $.fn.xt.uid++;\r\n    }\r\n    settings.namespace = settings.name + '_' + settings.uid + '_' + settings.class;\r\n    $group.attr('data-xt-namespace', settings.namespace);\r\n  };\r\n  \r\n  Xt.prototype.scope = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements\r\n    if (settings.elements) {\r\n      if (settings.elements.indexOf('#') !== -1) {\r\n        settings.$elements = $(settings.elements).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        settings.$elements = $group.find(settings.elements).filter(':parents(.xt-ignore)');\r\n        /*// @TODO\r\n        if (!settings.$elements.length) {\r\n          settings.$elements = $group.parent().find(settings.elements).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    } else {\r\n      settings.$elements = $group;\r\n    }\r\n    // $targets\r\n    if (settings.name === 'xt-scroll') {\r\n      // wrapper\r\n      var $outside = $group.parent('.xt-container.xt-position');\r\n      if (!$outside.length) {\r\n        $outside = $group.wrap($('<div class=\"xt-container xt-position\"></div>'));\r\n      }\r\n      // xt-scroll $targets\r\n      settings.$targets = $outside.find('.xt-clone.xt-ignore');\r\n      if (!settings.$targets.length) {\r\n        settings.$targets = $group.clone().addClass('xt-clone xt-ignore').css('visibility', 'hidden');\r\n        $.each(settings.$targets.data(), function(i) {\r\n          settings.$targets.removeAttr('data-' + i);\r\n        });\r\n        settings.$targets.insertAfter($group);\r\n      }\r\n      // stuff\r\n      if (settings.mode === 'absolute') {\r\n        $group.css('position', 'absolute');\r\n      } else if (settings.mode === 'fixed') {\r\n        $group.css('position', 'fixed');\r\n      }\r\n      if ($group.is(':fixed') || $group.is(':absolute')) {\r\n        $group.css('z-index', 70);\r\n        settings.$targets.css('display', 'block');\r\n      } else {\r\n        settings.$targets.css('display', 'none');\r\n      }\r\n    } else if(settings.targets) {\r\n      if (settings.targets.indexOf('#') !== -1) {\r\n        settings.$targets = $(settings.targets).filter(':parents(.xt-ignore)');\r\n      } else {\r\n        var $t = $group.find(settings.targets);\r\n        var $tinner = $t.find(settings.targets);\r\n        settings.$targets = $t.not($tinner).filter(':parents(.xt-ignore)');\r\n        /*// @TODO\r\n        if (!settings.$targets.length) {\r\n          settings.$targets = $group.parent().find(settings.targets).filter(':parents(.xt-ignore)');\r\n        }\r\n        */\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.setup = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // initial activations\r\n    if (settings.name === 'xt-ajax') {\r\n      var url;\r\n      var found;\r\n      if (history.state && history.state.url) {\r\n        // detect from history\r\n        url = history.state.url;\r\n      } else {\r\n        // detect from url location (absolute url without domain name)\r\n        var loc = window.location.href.split('#')[0];\r\n        url = loc.replace(/https?:\\/\\/[^\\/]+/i, '');\r\n      }\r\n      settings.$elements.each( function() {\r\n        if ($(this).attr('href') === url) {\r\n          found = $(this);\r\n          return false;\r\n        }\r\n      });\r\n      if (found) {\r\n        // set ajaxified\r\n        settings.$targets.attr('data-xt-ajaxified', url);\r\n        object.pushstate(url, document.title);\r\n        // then show\r\n        object.show(found);\r\n        // api\r\n        settings.$targets.trigger('ajax.init.xt', [object]);\r\n      }\r\n    } else {\r\n      // automatic reinit if has class\r\n      if (settings.$elements) {\r\n        settings.$elements.each( function() {\r\n          if ($(this).hasClass(object.defaultClass)) {\r\n            $(this).removeClass(settings.class);\r\n            object.show($(this));\r\n          }\r\n        });\r\n        // automatic init if $currents < min\n        var $currents = object.getCurrents();\r\n        var todo = settings.min - $currents.length;\r\n        if (todo) {\r\n          for (var i = 0; i < todo; i++) {\r\n            object.show(settings.$elements.eq(i));\r\n          }\r\n        }\n      }\r\n      if (settings.name === 'xt-overlay') {\r\n        settings.$targets.appendTo('body');\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.events = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // events\r\n    if (settings.name === 'xt-scroll') {\r\n      object.eventsScroll();\r\n    } else {\r\n      object.eventsDefault();\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.eventsDefault = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements events\r\n    var $et = settings.$elements.slice(0);\r\n    if (settings.name === 'xt-drop' && settings.off === 'mouseleave') {\r\n      $et = $et.pushElement(settings.$targets);\r\n    }\r\n    if ($et) {\r\n      // on off events\r\n      if (settings.on) {\r\n        $et.off(settings.on).on(settings.on, function(e) {\r\n          object.toggle($(this));\r\n          if (settings.name === 'xt-ajax') {\r\n            e.preventDefault();\r\n          }\r\n        });\r\n      }\r\n      if (settings.off) {\r\n        $et.off(settings.off).on(settings.off, function(e) {\r\n          object.toggle($(this));\r\n        });\r\n      }\r\n      // remove html classes\r\n      $et.off('xtRemoved').on('xtRemoved', function(e) {\r\n        if (settings.name === 'xt-overlay') { // @TODO $group.is('[data-xt-reset]')\r\n          settings.$targets.remove();\r\n          //object.hide($(this), false, true, true);\r\n        }\r\n      });\r\n      // api\r\n      $et.off('show.xt').on('show.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.show($(this), true);\r\n        }\r\n      });\r\n      $et.off('hide.xt').on('hide.xt', function(e, obj, triggered) {\r\n        if (!triggered && e.target === this) {\r\n          object.hide($(this), true);\r\n        }\r\n      });\r\n    }\r\n    // ajax events\r\n    if (settings.name === 'xt-ajax') {\r\n      // popstate\r\n      $(window).off('popstate.xt.' + settings.namespace).on('popstate.xt.' + settings.namespace, function(e) {\r\n        if (history.state && history.state.url) {\r\n          object.ajax(history.state.url, history.state.title);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // events methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.eventsScroll = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // resize\r\n    var $outside = settings.$targets.parent('.xt-container.xt-position');\r\n    var resizeNamespace = 'resize.xt.' + settings.namespace;\r\n    $(window).off(resizeNamespace);\r\n    $(window).on(resizeNamespace, function(e) {\r\n      $outside.css('width', $outside.parent().width()); // fix fixed width\r\n    });\r\n    $(window).trigger(resizeNamespace);\r\n    // scroll\r\n    var scrollNamespace = 'scroll.xt.' + settings.namespace;\r\n    $(window).off(scrollNamespace);\r\n    $(window).on(scrollNamespace, function(e) {\r\n      var scrollTop = $(this).scrollTop();\r\n      if (scrollTop !== settings.scrollTopOld) {\r\n        // show or hide\r\n        var top = $outside.offset().top;\r\n        var bottom = Infinity;\r\n        if (settings.top !== undefined) {\r\n          if (!isNaN(parseFloat(settings.top))) {\r\n            top = settings.top;\r\n          } else {\r\n            top = $(settings.top).offset().top;\r\n          }\r\n        }\r\n        if (settings.bottom !== undefined) {\r\n          if (!isNaN(parseFloat(settings.bottom))) {\r\n            bottom = settings.bottom;\r\n          } else if ($(settings.bottom).length) {\r\n            bottom = $(settings.bottom).offset().top;\r\n          }\r\n        }\r\n        if (scrollTop >= top && scrollTop < bottom) {\r\n          if (!$group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.show($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-off-top scroll-off-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-on-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-on-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-on-top');\r\n              });\r\n            }\r\n          }\r\n        } else {\r\n          if ($group.hasClass(object.defaultClass)) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              object.hide($group);\r\n            });\r\n            // direction classes\r\n            $group.removeClass('scroll-on-top scroll-on-bottom');\r\n            if (settings.scrollTopOld > scrollTop) {\r\n              $group.removeClass('scroll-off-top');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-bottom');\r\n              });\r\n            } else {\r\n              $group.removeClass('scroll-off-bottom');\r\n              window.xtRequestAnimationFrame( function() {\r\n                $group.addClass('scroll-off-top');\r\n              });\r\n            }\r\n          }\r\n        }\r\n      }\r\n      settings.scrollTopOld = scrollTop;\r\n    });\r\n    $(window).trigger(scrollNamespace);\r\n    // remove window event on remove\r\n    $group.on('xtRemoved', function(e) {\r\n      $(window).off(resizeNamespace);\r\n      $(window).off(scrollNamespace);\r\n    });\r\n  };\r\n  \r\n  //////////////////////\r\n  // toggle methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.toggle = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // choose based on state\r\n    if (!$el.hasClass(object.defaultClass)) {\r\n      object.show($el, triggered, isSync, skipState);\r\n    } else {\r\n      object.hide($el, triggered, isSync, skipState);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.show = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // activate\r\n    if ($el) {\r\n      // show and add in $currents\r\n      if (!$el.hasClass(object.defaultClass)) {\r\n        var $elements = object.getIndexed(settings.$elements, $el, settings.$elements);\r\n        object.showAfter($elements, triggered);\r\n        var $currents = object.getCurrents();\n        $currents = object.setCurrents($currents.pushElement($el));\r\n        // sync\r\n        if (!isSync) {\r\n          window.xtRequestAnimationFrame( function() {\r\n            var $sync = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n            $sync.each( function() {\r\n              var xt = $(this).data(settings.name);\r\n              xt.show($(this), true, true);\r\n            });\r\n          });\r\n        }\r\n        // control over activated\r\n        if (settings.name === 'xt-ajax') {\r\n          // [disabled]\r\n          object.checkDisabled($el, 'disable');\r\n          // ajax\r\n          object.ajax($el.attr('href'));\r\n        } else {\r\n          // [disabled]\r\n          object.checkDisabled($el);\r\n          // hide max or differents\r\n          if (!isSync) {\r\n            if ($currents.length > settings.max) {\r\n              var $first = $currents.first();\r\n              object.hide($first);\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    // activate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getIndexed(settings.$elements, $el, settings.$targets);\r\n      if (!$target.hasClass(object.defaultClass)) {\r\n        object.showAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // add paddings\r\n          object.onFixed($('html, .xt-backdrop')); // @TODO $('*:fixed').not($target).add('html')\r\n          // activate $additional with $group time\r\n          var $additional = $('html');\r\n          if (!$additional.hasClass(object.defaultClass)) {\r\n            $additional.addClass(settings.class);\r\n            window.xtRequestAnimationFrame( function() {\r\n              $additional.addClass('fade-in');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hide = function($el, triggered, isSync, skipState) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // deactivate\r\n    if ($el) {\r\n      var $currents = object.getCurrents();\r\n      if ($el.hasClass(object.defaultClass)) {\r\n        if (isSync || settings.name === 'xt-ajax' || $currents.length > settings.min) {\r\n          var $elements = object.getIndexed(settings.$elements, $el, settings.$elements);\r\n          object.hideAfter($elements, triggered);\r\n          if ($el.attr('data-group')) {\r\n            $currents = object.setCurrents($currents.not('[data-group=' + $el.attr('data-group') + ']'));\r\n          } else {\r\n            $currents = object.setCurrents($currents.not($elements));\r\n          }\r\n          // sync\r\n          if (!isSync) {\r\n            window.xtRequestAnimationFrame( function() {\r\n              var $sync = $('[data-xt-namespace=\"' + settings.namespace + '\"]').filter(':parents(.xt-ignore)').not($group);\r\n              $sync.each( function() {\r\n                var xt = $(this).data(settings.name);\r\n                xt.hide($(this), true, true);\r\n              });\r\n            });\r\n          }\r\n        }\r\n        // [disabled]\r\n        if (isSync || settings.name === 'xt-ajax') {\r\n          object.checkDisabled($el, 'enable');\r\n        } else {\r\n          object.checkDisabled($el);\r\n        }\r\n      }\r\n    }\r\n    // deactivate $target\r\n    if (settings.$targets) {\r\n      var $target = object.getIndexed(settings.$elements, $el, settings.$targets);\r\n      if ($target.hasClass(object.defaultClass)) {\r\n        object.hideAfter($target, triggered);\r\n        // stuff\r\n        if (settings.name === 'xt-overlay') {\r\n          // remove paddings\r\n          object.offFixed($('.xt-fixed-vertical'));\r\n          // deactivate $additional with $group time\r\n          var $additional = $('html');\r\n          if ($additional.hasClass(object.defaultClass)) {\r\n            $additional.removeClass(settings.class);\r\n            $additional.removeClass('fade-in');\r\n            $additional.addClass('fade-out');\r\n            settings.$targets.off('hide.xt.done.additional').one('hide.xt.done.additional', function() {\r\n              $additional.removeClass('fade-out');\r\n            });\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.checkDisabled = function($el, force) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // manage [disabled] attribute\r\n    var str = 'disabled';\r\n    if (settings.on === 'click') {\r\n      if (!force) {\r\n        // automatic based on max\r\n        var $currents = object.getCurrents();\r\n        var min = settings.min;\r\n        var add;\r\n        if ($currents.length === min) {\r\n          add = true;\r\n          $currents.attr(str, str);\r\n        } else {\r\n          $currents.removeAttr(str);\r\n        }\r\n        // sync data-group\r\n        $currents.filter('[data-group]').each( function() {\r\n          var g = $(this).attr('data-group');\r\n          var $dataGroup = settings.$elements.not(this).filter('[data-group=\"' + g + '\"]');\r\n          if (add) {\r\n            $dataGroup.attr(str, str);\r\n          } else {\r\n            $dataGroup.removeAttr(str);\r\n          }\r\n        });\r\n      } else if (force === 'disable') {\r\n        // force disable\r\n        $el.attr(str, str);\r\n      } else if (force === 'enable') {\r\n        // force enable\r\n        $el.removeAttr(str);\r\n      }\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // on and off methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.showAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $anim\r\n    var $el = $elements.slice(0);\r\n    var $anim = $el;\r\n    if (settings.anim) {\r\n      $anim = $el.find(settings.anim);\r\n      $el = $el.pushElement($anim);\r\n    }\r\n    // on\r\n    $el.addClass(settings.class).removeClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // in\r\n    object.animationMultiple($el, triggered, object.showDone, 'fade-in');\r\n    // animations\r\n    object.onBackdrop($el, triggered);\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    object.onMiddle($el, triggered);\r\n    object.onCenter($el, triggered);\r\n    // events\r\n    if (settings.name === 'xt-drop') {\r\n      // close on document click\r\n      $(document).off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        var $target = $(e.target);\r\n        if (!$group.is($target) && !$group.has($target).length) {\r\n          object.hide(settings.$elements, true, true, true);\r\n        }\r\n      });\r\n    }\n    if (settings.name === 'xt-overlay') {\r\n      // close on .overlay-close\r\n      $el.find('.overlay-close').off('click.xt.' + settings.namespace).on('click.xt.' + settings.namespace, function(e) {\r\n        object.hide(settings.$elements, true, false, true);\r\n      });\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('show.xt', [object, true]);\r\n    }\r\n  };\r\n  Xt.prototype.showDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // when animation is done\r\n    // anim-width and anim-height\r\n    if ($el.hasClass('anim-height')) {\r\n      $el.css('height', 'auto');\r\n    }\r\n    if ($el.hasClass('anim-width')) {\r\n      $el.css('width', 'auto');\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('fadein.xt.done', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.hideAfter = function($elements, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $anim\r\n    var $el = $elements.slice(0);\r\n    var $anim = $el;\r\n    if (settings.anim) {\r\n      $anim = $el.find(settings.anim);\r\n      $el = $el.pushElement($anim);\r\n    }\r\n    // off\r\n    $el.removeClass(settings.class).removeClass('fade-in').addClass('fade-out');\r\n    object.animationDelayClear($el, 'anim');\r\n    // out\r\n    object.animationMultiple($el, triggered, object.hideDone);\r\n    // animations\r\n    object.offBackdrop($el, triggered);\r\n    object.onWidth($el, triggered);\r\n    object.onHeight($el, triggered);\r\n    window.xtRequestAnimationFrame( function() {\r\n      object.offWidth($el, triggered);\r\n      object.offHeight($el, triggered);\r\n    });\r\n    // close on document click\r\n    if (settings.name === 'xt-drop') {\r\n      $(document).off('click.xt.' + settings.namespace);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('hide.xt', [object, true]);\r\n    }\r\n  };\r\n  Xt.prototype.hideDone = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // when animation is done\r\n    $el.removeClass('fade-out');\r\n    // anim-width and anim-height\r\n    if ($el.hasClass('anim-height') || $el.hasClass('anim-width')) {\r\n      object.removeWrap($el);\r\n    }\r\n    // api\r\n    if (!triggered) {\r\n      $el.trigger('fadeout.xt', [object, true]);\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.animationMultiple = function($el, triggered, callout, add) {\r\n    var object = this;\r\n    // animationMultiple\r\n    var done = 0;\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      window.xtCancelAnimationFrame($single.data('frame.timeout'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        if (add) {\r\n          $single.removeClass('no-anim').addClass(add);\r\n        }\r\n        object.animationDelay($single, 'anim', function() {\r\n          if (++done < $el.length) {\r\n            return false;\r\n          }\r\n          callout.apply(object, [$el, triggered]);\r\n        });\r\n      });\r\n      $single.data('frame.timeout', frame);\r\n    });\r\n  };\r\n  Xt.prototype.animationDelay = function($el, ns, callout) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // time\r\n    var t = settings.timing;\r\n    var duration = $el.css('transitionDuration');\r\n    if (settings.timing === undefined && duration !== '0s') {\r\n      t = object.stringToMilliseconds(duration);\r\n    }\r\n    // delay for animations\r\n    if (t) {\r\n      var timeout = window.setTimeout( function(object) {\r\n        callout();\r\n      }, t);\r\n      $el.data('fade.timeout.' + ns, timeout);\r\n    } else {\r\n      callout();\r\n    }\r\n  };\r\n  Xt.prototype.animationDelayClear = function($el, ns) {\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n    clearTimeout($el.data('fade.timeout.' + ns));\r\n    $el.off('transitionend.xt.' + ns);\r\n  };\r\n  \r\n  //////////////////////\r\n  // animations methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.onBackdrop = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation in\n    var $container = $el.find(settings.backdrop);\n    var $position = $([]);\n    if ($container.length) {\n      $position = $container.parent();\n    } else if($el.hasClass('backdrop')) {\r\n      $position = $el.parent();\r\n    }\r\n    if ($position.length) {\r\n      var $backdrop = $position.find('> .xt-backdrop');\r\n      if (!$backdrop.length) {\r\n        $backdrop = $('<div class=\"xt-backdrop xt-ignore\"></div>').appendTo($position);\r\n      }\r\n      // animations\r\n      object.animationDelayClear($backdrop, 'backdrop');\r\n      window.xtCancelAnimationFrame($backdrop.data('frame.timeout'));\r\n      var frame = window.xtRequestAnimationFrame( function() {\r\n        $backdrop.addClass('fade-in');\r\n        $backdrop.removeClass('fade-out');\r\n      });\r\n      $backdrop.data('frame.timeout', frame);\r\n      // events\r\n      $backdrop.on('click.backdrop.xt', function(e) {\r\n        object.hide(settings.$elements, true, false, true);\r\n      });\r\n      $el.on('click.backdrop.xt', function(e) {\r\n        var $t = $(e.target);\r\n        if ($container.length && $t.is($container)) {\r\n          object.hide(settings.$elements, true, false, true);\r\n        }\r\n      });\r\n    }\n  };\r\n  Xt.prototype.offBackdrop = function($el, triggered) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    // animation out\r\n    var $position = $el.hasClass('backdrop') ? $el.parent() : $el.find(settings.backdrop).parent();\r\n    if ($position.length) {\r\n      var $backdrop = $position.find('> .xt-backdrop');\r\n      if ($backdrop.length) {\r\n        // animations\r\n        $backdrop.removeClass('fade-in');\r\n        object.animationDelayClear($backdrop, 'backdrop');\r\n        window.xtCancelAnimationFrame($backdrop.data('frame.timeout'));\r\n        var frame = window.xtRequestAnimationFrame( function() {\r\n          $backdrop.addClass('fade-out');\r\n          object.animationDelay($backdrop, 'backdrop', function() {\r\n            $backdrop.removeClass('fade-out').remove();\r\n          });\r\n        });\r\n        $backdrop.data('frame.timeout', frame);\r\n        // events\r\n        $backdrop.off('click.backdrop.xt');\r\n        $el.off('click.backdrop.xt');\r\n      }\r\n    }\r\n  };\r\n    \r\n  Xt.prototype.onWidth = function($el) {\r\n    var object = this;\r\n    // animation in\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-width')) {\r\n        object.addWrap($single);\r\n        var $outside = $single.parent('.xt-container');\r\n        var $inside = $single.find('> .xt-position');\r\n        var w = $outside.outerWidth();\r\n        $inside.css('width', w);\r\n        $single.css('width', w);\r\n        $single.parents('.anim-width-left').css('margin-left', -w);\r\n        $single.parents('.anim-width-right').css('margin-right', -w);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.offWidth = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-width')) {\r\n        $single.css('width', 0);\r\n        $single.parents('.anim-width-left').css('margin-left', 0);\r\n        $single.parents('.anim-width-right').css('margin-right', 0);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.onHeight = function($el) {\r\n    var object = this;\r\n    // animation in\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-height')) {\r\n        object.addWrap($single);\r\n        var $inside = $single.find('> .xt-position');\r\n        var h = $inside.outerHeight();\r\n        $single.css('height', h);\r\n        $single.parents('.anim-height-top').css('margin-top', -h);\r\n        $single.parents('.anim-height-bottom').css('margin-bottom', -h);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.offHeight = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('anim-height')) {\r\n        $single.css('height', 0);\r\n        $single.parents('.anim-height-top').css('margin-top', 0);\r\n        $single.parents('.anim-height-bottom').css('margin-bottom', 0);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.onMiddle = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('middle') && !$single.attr('middle.done')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerHeight() / 2;\r\n        var remove = $single.outerHeight() / 2;\r\n        $single.addClass('no-anim').attr('middle.done', true).css('top', add - remove);\r\n      }\r\n    });\r\n  };\r\n  Xt.prototype.onCenter = function($el) {\r\n    // animation out\r\n    $el.each( function() {\r\n      var $single = $(this);\r\n      if ($single.hasClass('center') && !$single.attr('center.done')) {\r\n        var $outside = $single.parent();\r\n        var add = $outside.outerWidth() / 2;\r\n        var remove = $single.outerWidth() / 2;\r\n        $single.addClass('no-anim').attr('center.done', true).css('left', add - remove);\r\n      }\r\n    });\r\n  };\r\n  \r\n  Xt.prototype.addWrap = function($el) {\r\n    var $outside = $el.parent('.xt-container');\r\n    if (!$outside.length) {\r\n      $el.wrap('<div class=\"xt-container\"></div>');\r\n    }\r\n    var $inside = $el.find('> .xt-position');\r\n    if (!$inside.length) {\r\n      $el.wrapInner('<div class=\"xt-position\"></div>');\r\n    }\r\n  };\r\n  Xt.prototype.removeWrap = function($el) {\r\n    var $outside = $el.parent('.xt-container');\r\n    if ($outside.length) {\r\n      $outside.contents().unwrap();\r\n    }\r\n    var $inside = $el.find('> .xt-position');\r\n    if ($inside.length) {\r\n      $inside.contents().unwrap();\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils methods\r\n  //////////////////////\r\n\r\n  Xt.prototype.getCurrents = function() {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // get $currents on $group data\r\n    var $currents = $group.data('$currents.' + settings.namespace) || $([]);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.setCurrents = function($currents) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // set $currents on $group data\r\n    $group.data('$currents.' + settings.namespace, $currents);\r\n    return $currents;\r\n  };\r\n  \r\n  Xt.prototype.getIndexed = function($elements, $el, $g) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // $elements and $el\r\n    if ($elements.is($group)) {\r\n      return $g;\r\n    } else if ($el.is('[data-group]')) {\r\n      // with [data-group]\r\n      var g = $el.attr('data-group');\r\n      return $g.filter('[data-group=\"' + g + '\"]');\r\n    } else {\r\n      if (settings.$targets.has($g)) {\r\n        var index = object.getIndex($elements.not('[data-group]'), $el);\r\n        return $g.not('[data-group]').eq(index);\r\n      } else {\r\n        return $el;\r\n      }\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.onFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // add scrollbar padding\r\n    var w = object.scrollbarWidth($el);\r\n    w = $el.css('overflow-y') === 'hidden' ? 0 : w;\r\n    $el.addClass('xt-fixed-vertical').css('padding-right', w).css('background-clip', 'content-box');\r\n  };\r\n  \r\n  Xt.prototype.offFixed = function($el) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // remove scrollbar padding\r\n    $el.removeClass('xt-fixed-vertical').css('padding-right', 0).css('background-clip', '');\r\n  };\r\n  \r\n  Xt.prototype.getIndex = function($elements, $el) {\r\n    var index = 0;\r\n    if ($elements && $el) {\r\n      $elements.each( function(i) {\r\n        if ($(this).is($el.get(0))) {\r\n          index = i;\r\n          return false;\r\n        }\r\n      });\r\n    }\r\n    return index;\r\n  };\r\n  \r\n  Xt.prototype.scrollbarWidth = function($el) {\r\n    var parent, child, width;\r\n    if(width === undefined) {\r\n      parent = $('<div style=\"width:50px; height:50px; overflow:auto;\"><div /></div>').appendTo($el);\r\n      child = parent.children();\r\n      width = child.innerWidth() - child.height(99).innerWidth();\r\n      parent.remove();\r\n    }\r\n    return width;\r\n  };\r\n  \r\n  Xt.prototype.stringToMilliseconds = function(str) {\r\n    var num = parseFloat(str, 10);\r\n    var unit = str.match(/m?s/);\r\n    var ms;\r\n    if (unit) {\r\n      unit = unit[0];\r\n    }\r\n    switch (unit) {\r\n      case \"s\":\r\n        ms = num * 1000;\r\n        break;\r\n      case \"ms\":\r\n        ms = num;\r\n        break;\r\n      default:\r\n        ms = 0;\r\n        break;\r\n    }\r\n    return ms;\r\n  };\r\n  \r\n  //////////////////////\r\n  // ajax methods\r\n  //////////////////////\r\n  \r\n  Xt.prototype.ajax = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // do ajax only one time\r\n    if (settings.$targets.attr('data-xt-ajaxified') !== url) {\r\n      // ajax\r\n      $.ajax({\r\n        type: 'GET',\r\n        url: url,\r\n        success: function(data, textStatus, jqXHR) {\r\n          var $data = $('<div />').html(data);\r\n          // api\r\n          settings.$targets.trigger('ajax.success.xt', [object, $data]);\r\n          // populate\r\n          var $html = $data.find(settings.targets).contents();\r\n          title = !title ? $data.find('title').text() : title;\r\n          settings.$targets.html($html);\r\n          settings.$targets.attr('data-xt-ajaxified', url);\r\n          // reinit $elements and events\r\n          object.scope();\r\n          object.events();\r\n          // pushstate\r\n          object.pushstate(url, title);\r\n          // api\r\n          settings.$targets.trigger('ajax.populated.xt', [object, $data]);\r\n          settings.$targets.xtInitAll(true); // init xt\r\n        },\r\n        error: function(jqXHR, textStatus, errorThrown) {\r\n          console.error('ajax error url:' + url + ' ' + errorThrown);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  \r\n  Xt.prototype.pushstate = function(url, title) {\r\n    var object = this;\r\n    var settings = this.settings;\r\n    var group = this.group;\r\n    var $group = $(this.group);\r\n    // also when on popstate\r\n    document.title = title;\r\n    // trigger on registered\r\n    settings.$elements.filter('[href=\"' + url + '\"]').each( function() {\r\n      object.show($(this), true, false, true);\r\n    });\r\n    // push object state\r\n    if (!history.state || !history.state.url || history.state.url !== url) {\r\n      history.pushState({'url': url, 'title': title}, title, url);\r\n    }\r\n  };\r\n  \r\n  //////////////////////\r\n  // utils\r\n  //////////////////////\r\n  \r\n  // https://www.paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n  window.xtRequestAnimationFrame = ( function() {\r\n    return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function(callback) {\r\n      window.setTimeout(callback, 1000 / 60);\r\n    };\r\n  })();\r\n  window.xtCancelAnimationFrame = ( function(id) {\r\n    return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || function(callback) {\r\n      window.clearTimeout(id);\r\n    };\r\n  })();\r\n\r\n  // http://stackoverflow.com/questions/13281897/how-to-preserve-order-of-items-added-to-jquery-matched-set\r\n  // push jquery group inside jquery query, use $([]) for empty query\r\n  // usage: $groups.pushElement($group)\r\n  $.fn.pushElement = function($el) {\r\n    Array.prototype.push.apply(this, $el);\r\n    return this;\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/2200494/jquery-trigger-event-when-an-group-is-removed-from-the-dom\r\n  // xtRemoved event fired when an group is removed from DOM\r\n  $.event.special.xtRemoved = {\r\n    remove: function(o) {\r\n      if (o.handler) { o.handler(); }\r\n    }\r\n  };\r\n  \r\n  // http://stackoverflow.com/questions/965816/what-jquery-selector-excludes-items-with-a-parent-that-matches-a-given-selector\r\n  // filter out $groups with :parents(.classname)\r\n  // usage: $groups.filter(':parents(.xt-ignore)')\r\n  $.expr[':'].parents = function(a, i, m){\r\n    return $(a).parents(m[3]).length < 1;\r\n  };\r\n  \r\n  // select all elements with position: fixed;\r\n  // usage: $('*:fixed')\r\n  $.expr[':'].fixed = function(a, i, m){\r\n    return $(a).css('position') === 'fixed';\r\n  };\r\n  \r\n  // select all elements with position: absolute;\r\n  // usage: $('*:absolute')\r\n  $.expr[':'].absolute = function(a, i, m){\r\n    return $(a).css('position') === 'absolute';\r\n  };\r\n  \r\n})(jQuery, window, document);"]}