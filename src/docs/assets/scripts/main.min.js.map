{"version":3,"sources":["main.js"],"names":["$","window","document","undefined","main","$main","populateDemo","$container","i","$items","find","prepend","append","tooltip","on","e","this","attr","length","hasClass","css","each","k","$item","name","eq","id","clipboard","Clipboard","target","trigger","parents","clearSelection","$iframe","initIframe","addClass","populateIframe","resizeIframe","contentWindow","init","setTimeout","obj","populateInline","$sources","z","$source","populateSources","xtToggle","elements","targets","min","html","scss","js","lang","data","$codeInside","text","formatCode","replace","removeClass","hljs","highlightBlock","$clone","clone","match","remove","developerInit","developer","$target","contents","hide","show","h","height","$demo","$fullscreen","iframe","off","open","wrapInner","filter","$element","toLowerCase","parent","is","$data","xtInitAll","xtAjax","ready","jQuery"],"mappings":"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","file":"main.min.js","sourcesContent":[";( function($, window, document, undefined) {\r\n  \r\n  'use strict';\r\n  \r\n  var main = function($main) {\r\n    \r\n    //////////////////////\r\n    // demo\r\n    //////////////////////\r\n    \r\n    window.resizeIframe = function(id) {\r\n      var $iframe = $('#' + id);\r\n      var $target = $iframe.contents().find('#body-inside');\n      $target.hide().show(0); // fix scrollbars disappearing\r\n      var h = $target.height();\r\n      if (h !== $iframe.data('iframeHeight')) {\r\n        $iframe.height(h);\r\n        $iframe.data('iframeHeight', h);\r\n      }\r\n    };\r\n    \r\n    // populateDemo\r\n    function populateDemo($container, i) {\r\n      var $items = $container.find('> .demo-item');\r\n      // multiple elements\r\n      $container.prepend('<div class=\"box demo-tabs\"><div class=\"box demo-tabs-inside\"><div class=\"demo-tabs-left float-left\"></div><div class=\"demo-code-tabs-right float-right\"></div></div></div>');\r\n      $container.find('.demo-code-tabs-right').append('<button class=\"button button__fullscreen\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Open fullscreen\"><span class=\"icon-enlarge2\"></span></button>');\r\n      $container.find('.button__fullscreen').tooltip(/*{trigger: 'click'}*/)\r\n        .on('mouseleave', function(e) {\r\n          $(this).attr('data-original-title', 'Open fullscreen').tooltip('hide');\r\n        });\r\n      // single element and no demo tabs\r\n      if ($items.length === 1 && !$items.hasClass('demo-preview') && !$items.attr('data-iframe')) {\r\n        $items.css('display', 'block');\r\n        $container.find('.demo-tabs').css('display', 'none');\r\n      }\r\n      $items.each( function(k) {\r\n        var $item = $(this);\r\n        // populate tabs\r\n        var name = $item.attr('data-name');\r\n        if ($items.length === 1) {\r\n          if (!$item.attr('data-name')) {\r\n            name = 'demo';\r\n          }\r\n        } else {\r\n          if (!$item.attr('data-name')) {\r\n            name = 'demo #' + k;\r\n          }\r\n        }\r\n        var $btn = $container.find('.demo-tabs-left').append('<button class=\"button\">' + name + '</button>').find('.button').eq(k);\r\n        // iframe append\r\n        if ($item.attr('data-iframe')) {\r\n          $item.append('<iframe data-src=\"' + $item.attr('data-iframe') + '\" frameborder=\"0\"></iframe>');\n        }\r\n        // tabs\r\n        var id = 'iframe' + i + k;\r\n        $item.append('<div class=\"demo-code\"><div class=\"box demo-code-tabs\"><div class=\"box demo-code-tabs-inside\"><div class=\"demo-code-tabs-left float-left\"></div><div class=\"demo-code-tabs-right float-right\"><button class=\"button button__clipboard\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"Copy to clipboard\">copy</button></div></div></div><div class=\"box demo-code-body\"></div></div>');\r\n        // https://github.com/zenorocha/clipboard.js/\r\n        $item.find('.button__clipboard').tooltip(/*{trigger: 'click'}*/)\r\n          .on('mouseleave', function(e) {\r\n            $(this).attr('data-original-title', 'Copy to clipboard').tooltip('hide');\r\n          });\r\n        var clipboard = new Clipboard('.button__clipboard', {\r\n          target: function(trigger) {\n            return $(trigger).parents('.demo').find('.demo-item.active .demo-code-body-item.active .hljs')[0];\r\n          }\r\n        });\r\n        clipboard.on('success', function(e) {\r\n          e.clearSelection();\r\n          $(e.trigger).attr('data-original-title', 'Done').tooltip('show');\r\n        });\r\n        clipboard.on('error', function(e) {\r\n          $(e.trigger).attr('data-original-title', 'Error: copy manually').tooltip('show');\r\n        });\r\n        // inject iframe\r\n        if ($item.attr('data-iframe')) {\r\n          var $iframe = $item.find('> iframe');\r\n          var initIframe = function() {\r\n            if (!$iframe.attr('src')) {\r\n              $item.addClass('demo-iframe');\r\n              $iframe.attr('id', id);\r\n              $iframe.attr('src', $iframe.attr('data-src'));\r\n              $iframe.on('load', function(e){\r\n                populateIframe($item, $iframe, id);\r\n                window.resizeIframe(id);\r\n                $iframe[0].contentWindow.init();\r\n                // .populated fix scroll\r\n                setTimeout( function($item) {\r\n                  $item.addClass('populated');\r\n                }, 0, $item);\r\n              });\r\n            }\r\n          };\r\n          if (k === 0) {\r\n            initIframe();\r\n          }\r\n          // iframe resize on show\r\n          $item.on('show.xt', function(e, obj) {\r\n            if (e.target === this) {\r\n              window.resizeIframe(id);\r\n              if (k !== 0) {\r\n                initIframe();\r\n              }\r\n            }\r\n          });\r\n        } else {\r\n          populateInline($item, id);\r\n          // .populated fix scroll\r\n          setTimeout( function($item) {\r\n            $item.addClass('populated');\r\n          }, 0, $item);\r\n        }\r\n      });\r\n    }\r\n    \r\n    // populateInline\r\n    function populateInline($item, id) {\r\n      var $sources = $item.find('> .demo-source');\r\n      $sources.each( function(z) {\r\n        var $source = $(this);\r\n        populateSources($item, $source, id, z);\r\n        if (!$item.hasClass('demo-preview')) {\r\n          $source.css('display', 'none');\r\n        }\r\n      });\r\n      $item.xtToggle({\"elements\": \".demo-code-tabs-left .button\", \"targets\": \".demo-code-body-item\", \"min\": 1});\r\n    }\r\n    \r\n    // populateIframe\r\n    function populateIframe($item, $iframe, id) {\r\n      var html = $('body #body-inside', $iframe[0].contentWindow.document).html();\r\n      var scss = $('body scss-style', $iframe[0].contentWindow.document).html();\r\n      var css = $('body style[scoped]', $iframe[0].contentWindow.document).html();\r\n      var js = $('body script', $iframe[0].contentWindow.document).html();\r\n      // inject code\r\n      if (html) {\r\n        $iframe.append('<div class=\"demo-source\" data-lang=\"html\">' + html + '</div>');\r\n      }\r\n      if (scss) {\r\n        $iframe.append('<div class=\"demo-source\" data-lang=\"scss\">' + scss + '</div>');\r\n      }\r\n      if (js) {\r\n        $iframe.append('<div class=\"demo-source\" data-lang=\"js\">' + js + '</div>');\r\n      }\r\n      // populate\r\n      var $sources = $item.find('.demo-source');\r\n      $sources.each( function(z) {\r\n        var $source = $(this);\r\n        populateSources($item, $source, id, z);\r\n      });\r\n      $item.xtToggle({\"elements\": \".demo-code-tabs-left .button\", \"targets\": \".demo-code-body-item\", \"min\": 1});\r\n    }\r\n    \r\n    // populateSources\r\n    function populateSources($item, $source, id, z) {\r\n      var lang = $source.data('lang');\r\n      // populate tabs\r\n      var $codeInside = $item.find('.demo-code-body').append('<div class=\"demo-code-body-item\"><pre><code></code></pre></div>').find('.demo-code-body-item').eq(z).find('pre code');\r\n      var $btnInside = $item.find('.demo-code-tabs-left').append('<button class=\"button\">' + lang + '</button>').find('.button').eq(z);\r\n      // format code\r\n      if (!$codeInside.hasClass('hljs')) {\r\n        var text = formatCode($source, lang);\r\n        text = text.replace(/^\\s+|\\s+$/g, ''); // remove newline at start and end\r\n        $codeInside.html(text).removeClass().addClass(lang);\r\n        window.hljs.highlightBlock($codeInside[0]);\r\n      }\r\n    }\r\n    \r\n    // formatCode\r\n    function formatCode($source, lang) {\r\n      var $clone = $source.clone();\r\n      var text = $clone.html();\r\n      if (lang === 'css' || lang === 'js') {\r\n        text = text.replace(/<[^>]*>/g, '');\r\n      }\r\n      if (text.match(/[&<>]/g)) {\r\n        // replace entities\r\n        text = text.replace(/&amp;/g,'&').replace(/&lt;/g,'<').replace(/&gt;/g, '>');\r\n        // replace json quotes\r\n        text = text.replace(/(\"{)/g, '\\'{').replace(/(}\")/g, '}\\'');\r\n        // replace quote entities \r\n        text = text.replace(/&quot;:/g,'&quot;:'); // add spacing for white-space: pre-wrap;\r\n        text = text.replace(/&quot;/g,'\"');\r\n      }\r\n      text = $clone.text(text).html();\r\n      $clone.remove();\r\n      return text;\r\n    }\r\n    \r\n    // init demo\r\n    $main.find('.demo').each( function(i) {\r\n      var $demo = $(this);\r\n      populateDemo($demo, i);\r\n      // enable fullscreen\r\n      $demo.find('.demo-tabs-left .button').on('show.xt', function(e, obj) {\r\n        var $fullscreen = $(this).parents('.demo').find('.button__fullscreen');\r\n        var iframe = $(this).parents('.demo').find('.demo-item.active').attr('data-iframe');\r\n        if (iframe) {\r\n          $fullscreen.css('display', 'block');\r\n          $fullscreen.off('click');\r\n          $fullscreen.on('click', function() {\r\n            window.open(iframe, '_blank');\r\n          });\r\n        } else {\r\n          $fullscreen.css('display', 'none');\r\n        }\r\n      });\r\n      // demo tabs\r\n      $demo.xtToggle({\"elements\":\".demo-tabs-left .button\", \"targets\": \".demo-item\", \"min\": 1});\r\n    });\r\n    \r\n    //////////////////////\r\n    // others\r\n    //////////////////////\r\n\r\n    // syntax\r\n    $main.find('pre code').each( function(i) {\r\n      window.hljs.highlightBlock(this);\r\n    });\r\n    \r\n    // .site-article .make-line\r\n    $main.find('.site-article').find('> h2, > h3').addClass('make-line');\r\n    $main.find('.make-line').wrapInner('<span class=\"line\"></span>').wrapInner('<div class=\"line-container\"></div>');\r\n    \r\n    // .site-article .site-article-anchor\r\n    $main.find('.site-article').find('> h2, > h3').filter(':parents(.demo)').each( function(i) {\r\n      var $element = $(this);\r\n      var id = $element.text().replace(/\\s+/g, '-').toLowerCase();\r\n      $element.attr('id', id);\r\n      $element.wrapInner('<a href=\"#' + id + '\"></a>');\r\n      $element.addClass('make-anchor').append('<span class=\"site-article-anchor\"><div class=\"button\"><span class=\"icon-link\" aria-hidden=\"true\"></span></div></span>');\r\n    });\r\n    \r\n    // tooltips\r\n    $main.find('[data-toggle=\"tooltip\"]').tooltip(/*{trigger: 'click'}*/);\r\n    \r\n    // .site-aside-text\r\n    $main.find('.site-aside-text > .button:not(.different)').each( function(i) {\r\n      var $container = $(this).parent();\r\n      $main.find('.site-article').find('h2, h3').each( function(z) {\r\n        var $element = $(this);\r\n        if ($(this).is('h3')) {\r\n          $container.append($('<a href=\"#' + $(this).attr('id') + '\" class=\"button site-aside-subsub\">' + $(this).text() + '</a>'));\r\n        } else {\r\n          $container.append($('<a href=\"#' + $(this).attr('id') + '\" class=\"button site-aside-sub\">' + $(this).text() + '</a>'));\r\n        }\r\n        //$element.xtScroll();\r\n      });\r\n    });\r\n    \r\n    //////////////////////\r\n    // developer\r\n    //////////////////////\r\n    \r\n    window.developer = false;\r\n    function developerInit() {\r\n      // state\r\n      if (window.developer) {\r\n        $('.button__developer').addClass('active');\r\n        $('.developer').addClass('developer-show');\r\n      }\r\n      // init\r\n      $('.button__developer').xtToggle().on('show.xt', function(e) {\r\n        window.developer = true;\r\n        $('.developer').addClass('developer-show');\r\n      }).on('hide.xt', function(e) {\r\n        window.developer = false;\r\n        $('.developer').removeClass('developer-show');\r\n      });\r\n    }\r\n    $main.find('.site-wrapper').on('ajax.populated.xt', function(e, obj, $data) {\r\n      developerInit();\r\n    });\r\n    developerInit();\r\n    \r\n  };\r\n  \r\n  // init main\r\n  \r\n  main($('body'));\r\n  \r\n  //////////////////////\r\n  // xtend\r\n  //////////////////////\r\n  \r\n  // init xt\r\n  $('body').xtInitAll(true);\r\n  $('body').xtAjax({'elements': 'a[href^=\"/\"]', 'targets': '.site-wrapper'});\r\n  \r\n  // xt-ajax\r\n  $('.site-wrapper').on('ajax.populated.xt', function(e, obj, $data) {\r\n    // custom function on ajax\r\n    main($(this));\r\n  });\r\n  \r\n  // fix .overlay z-index\r\n  $('.site-article .overlay').on('show.xt', function() {\r\n    $('.site-main').css('z-index', '999');\r\n  });\r\n  $('.site-article .overlay').on('hide.xt.done', function() {\r\n    $('.site-main').css('z-index', '');\r\n  });\r\n  \r\n  /*\r\n  // test ajax stop page from changing\r\n  function unloadPage(){\r\n   return false;\r\n  }\r\n  window.onbeforeunload = unloadPage;\r\n  */\r\n  /*\r\n  $('.button__menu').filter(':parents(.xt-ignore)').on('show.xt', function(e, obj, triggered, isSync) {\r\n    console.log(triggered, $('.button__menu').filter(':parents(.xt-ignore)').length, $('.button__menu').filter(':parents(.xt-ignore)').not(this).length);\r\n    if (!triggered && e.target === this) {\r\n      $('.button__menu').filter(':parents(.xt-ignore)').not(this).trigger('show.xt', [true, true]);\r\n    }\r\n  });\r\n  */\r\n  /*\r\n  $('.button__menu').on('hide.xt', function(e) {\r\n    $('.button__menu').not(this).trigger('hide.xt', [true]);\r\n  });\r\n  */\r\n  \r\n  /*\r\n  // tests\r\n  $('button').on('show.xt', function(e, obj, $data) {\r\n    console.log($(this));\r\n  });\r\n  */\r\n  // tests\n  $(document).ready( function() {\r\n    //$('.site-breadcrumbs-body-main').trigger('show.xt');\r\n    //$('a[href=\"/\"]').filter(':parents(.xt-ignore)').trigger('show.xt');\r\n    //if ($('html').atr('id') === 'test-0.html') { console.log(this.settings); }\r\n    //$('.demo-item').on('show.xt', function(e, obj) { console.log($(e.target)); });\r\n  });\r\n  \r\n  \r\n})(jQuery, window, document);"]}